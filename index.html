<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Rechtsgrundlagen – Prüfungsquiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f3f4f6;
      --card-bg: #ffffff;
      --panel-bg: #ffffff;
      --accent: #2563eb;
      --accent-soft: #eff6ff;
      --accent-border: #bfdbfe;
      --text: #0f172a;
      --text-soft: #6b7280;
      --border-subtle: #e5e7eb;
      --danger: #dc2626;
      --danger-soft: #fee2e2;
      --success: #16a34a;
      --success-soft: #dcfce7;
      --radius-lg: 16px;
      --radius-md: 10px;
      --shadow-soft: 0 14px 30px rgba(15, 23, 42, 0.15);
      --shadow-subtle: 0 4px 12px rgba(15, 23, 42, 0.08);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    body {
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 1100px;
      background: var(--bg);
      border-radius: 18px;
      padding: 18px 18px 22px;
    }

    .app-header {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 10px;
    }

    .title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .app-title {
      font-size: 22px;
      letter-spacing: 0.03em;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 650;
    }

    .app-title span {
      background: linear-gradient(120deg, #0f172a, #1d4ed8);
      -webkit-background-clip: text;
      color: transparent;
    }

    .tag-pill {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: .16em;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      color: #1d4ed8;
      background: #ffffff;
    }

    .subtitle {
      font-size: 13px;
      color: var(--text-soft);
      max-width: 840px;
    }

    .subtitle b {
      color: var(--text);
      font-weight: 600;
    }

    .mode-info-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 2px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .mode-info-row span {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      background: #ffffff;
    }

    .mode-info-row span strong {
      color: var(--text);
      font-weight: 600;
    }

    .quiz-top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
      margin-bottom: 8px;
      flex-wrap: wrap;
    }

    .quiz-meta {
      display: flex;
      flex-direction: column;
      gap: 3px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .quiz-meta-rows {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .quiz-meta-rows span {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      background: #ffffff;
    }

    .hidden {
      display: none !important;
    }

    .question-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      padding: 10px 2px 12px;
      border-radius: 14px;
      background: #ffffff;
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-subtle);
      margin-bottom: 12px;
      max-height: 120px;
      overflow-y: auto;
    }

    .q-nav-item {
      border: 1px solid var(--border-subtle);
      background: #ffffff;
      border-radius: 999px;
      width: 30px;
      height: 30px;
      font-size: 12px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      padding: 0;
      color: var(--text-soft);
      transition: background 0.12s ease, border-color 0.12s ease,
        color 0.12s ease, transform 0.06s ease,
        box-shadow 0.12s ease;
    }

    .q-nav-item:hover {
      border-color: var(--accent-border);
      background: var(--accent-soft);
      color: #1d4ed8;
      transform: translateY(-0.5px);
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.25);
    }

    .q-nav-item.active {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: #1d4ed8;
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
      font-weight: 600;
    }

    .q-nav-item.answered {
      background: #e0f2fe;
      border-color: #93c5fd;
      color: #1d4ed8;
    }

    .q-nav-item.checked {
      border-color: var(--success);
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.4);
    }

    .question-column {
      margin-top: 10px;
    }

    .question-card {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
      background: var(--card-bg);
      padding: 14px 16px 14px;
      box-shadow: var(--shadow-soft);
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 8px;
    }

    .question-number {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-soft);
    }

    .question-topic {
      font-size: 11px;
      color: var(--text-soft);
      text-align: right;
    }

    .question-text {
      font-size: 15px;
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--text);
    }

    .question-context {
      font-size: 11px;
      color: var(--text-soft);
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      background: #f9fafb;
      padding: 7px 8px;
      margin-bottom: 6px;
      max-height: 260px;
      overflow: auto;
    }

    .question-context pre {
      margin: 0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      white-space: pre;
    }

    .question-note {
      font-size: 11px;
      color: var(--text-soft);
      margin-bottom: 6px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-bottom: 6px;
    }

    .option {
      position: relative;
      display: flex;
      align-items: flex-start;
      gap: 7px;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      background: #ffffff;
      cursor: pointer;
      font-size: 13px;
      transition: border-color 0.12s ease, background 0.12s ease,
        transform 0.06s ease, box-shadow 0.12s ease;
    }

    .option:hover {
      border-color: var(--accent-border);
      background: #f9fafb;
      transform: translateY(-0.5px);
      box-shadow: 0 3px 8px rgba(15, 23, 42, 0.12);
    }

    .option input[type="checkbox"] {
      margin-top: 2px;
      accent-color: var(--accent);
      width: 15px;
      height: 15px;
      flex-shrink: 0;
      cursor: pointer;
    }

    .option-letter {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-soft);
      margin-top: 1px;
      flex-shrink: 0;
      width: 22px;
    }

    .option-text {
      flex: 1;
      color: var(--text);
    }

    .option.correct {
      border-color: var(--success);
      background: var(--success-soft);
    }

    .option.incorrect {
      border-color: var(--danger);
      background: var(--danger-soft);
    }

    .option.unselected-correct {
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.7) inset;
    }

    .explanation {
      font-size: 11px;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      background: #f9fafb;
      color: var(--text-soft);
      margin-top: 5px;
    }

    .explanation strong {
      color: var(--text);
    }

    .message {
      font-size: 11px;
      margin-top: 4px;
      color: #92400e;
    }

    .nav-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-top: 8px;
    }

    .nav-row.second {
      justify-content: flex-end;
      margin-top: 4px;
      gap: 6px;
    }

    button {
      border: none;
      cursor: pointer;
      border-radius: 999px;
      font-size: 12px;
      padding: 7px 13px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #ffffff;
      color: var(--text);
      border: 1px solid var(--border-subtle);
      transition: background 0.12s ease, transform 0.08s ease,
        box-shadow 0.12s ease, border-color 0.12s ease, color 0.12s ease;
    }

    button:hover {
      background: #f9fafb;
      border-color: var(--accent-border);
      box-shadow: 0 4px 12px rgba(15, 23, 42, 0.15);
      transform: translateY(-0.5px);
    }

    button:active {
      transform: translateY(0);
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.12);
    }

    button.primary {
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      border-color: #1d4ed8;
      color: #f9fafb;
      box-shadow: 0 10px 20px rgba(37, 99, 235, 0.45);
    }

    button.primary:hover {
      background: linear-gradient(135deg, #1d4ed8, #1e40af);
    }

    button.small {
      padding: 5px 10px;
      font-size: 11px;
    }

    button.ghost {
      background: transparent;
      border-style: dashed;
    }

    button:disabled {
      opacity: 0.4;
      cursor: default;
      transform: none;
      box-shadow: none;
      background: #ffffff;
    }

    .solution-overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.35);
      backdrop-filter: blur(4px);
      z-index: 50;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 16px;
      overflow-y: auto;
    }

    .solution-panel {
      width: 100%;
      max-width: 980px;
      background: var(--panel-bg);
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.4);
      padding: 14px 16px 16px;
    }

    .solution-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      gap: 8px;
    }

    .solution-header h2 {
      margin: 0;
      font-size: 16px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #1d4ed8;
    }

    .solution-summary {
      font-size: 13px;
      color: var(--text-soft);
      margin-bottom: 10px;
    }

    .solution-summary b {
      color: var(--text);
    }

    .result-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-bottom: 8px;
    }

    .solution-list {
      margin-top: 6px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-height: calc(100vh - 180px);
      overflow-y: auto;
      padding-right: 4px;
    }

    .solution-question {
      border-radius: 14px;
      border: 1px solid var(--border-subtle);
      background: #f9fafb;
      padding: 8px 9px 9px;
      font-size: 12px;
    }

    .solution-q-header {
      display: flex;
      justify-content: space-between;
      gap: 6px;
      margin-bottom: 3px;
      align-items: baseline;
    }

    .solution-q-title {
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
    }

    .solution-q-topic {
      font-size: 11px;
      color: var(--text-soft);
      text-align: right;
    }

    .solution-q-score {
      font-size: 11px;
      color: var(--text-soft);
      margin-top: 2px;
    }

    .solution-q-score.positive {
      color: var(--success);
    }

    .solution-q-score.negative {
      color: var(--danger);
    }

    .solution-options {
      margin-top: 4px;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .solution-opt {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      font-size: 12px;
    }

    .solution-opt-mark {
      width: 18px;
      text-align: center;
      font-size: 11px;
    }

    .opt-correct {
      color: var(--success);
    }

    .opt-wrong-selected {
      color: var(--danger);
    }

    .opt-neutral {
      color: var(--text-soft);
    }

    .solution-expl {
      margin-top: 4px;
      font-size: 11px;
      color: var(--text-soft);
    }

    @media (max-width: 900px) {
      body {
        padding: 10px;
      }
      .app {
        padding: 14px 12px 18px;
        border-radius: 16px;
      }
      .app-title {
        font-size: 19px;
      }
      .question-card {
        padding: 12px 12px 12px;
      }
    }

    @media (max-width: 600px) {
      .question-nav {
        max-height: 90px;
      }
      .quiz-top-bar {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="title-row">
        <div class="app-title">
          <span>Rechtsgrundlagen – Prüfungsquiz</span>
        </div>
        <div class="tag-pill">Öffentliches Recht · Privatrecht · Grundbuch · Haftung</div>
      </div>
      <p class="subtitle">
        Mehrfachauswahl wie in der Prüfung: <b>mindestens eine Antwort ist richtig</b>, aber nie alle.
        Falsche Kreuze kosten Punkte. Ab <b>60&nbsp;% insgesamt</b> ist die Prüfung positiv.
      </p>
      <div class="mode-info-row">
        <span><strong>Hinweis:</strong> Prüfe einzelne Fragen mit „Antwort prüfen“ oder am Ende alles mit „Gesamtes Quiz auswerten“.</span>
        <span><strong>Tipp:</strong> Oben kannst du direkt zu jeder Frage springen, beantwortete Fragen werden markiert.</span>
      </div>
    </header>

    <div class="quiz-top-bar">
      <div class="quiz-meta">
        <div class="quiz-meta-rows">
          <span>Modus: alle Themen gemischt (ÖR, EU, PR, GB, BO, Haftung, PHG, KSchG …)</span>
        </div>
      </div>
      <button id="restart-btn" class="small ghost" type="button">Fragen neu mischen</button>
    </div>

    <div id="question-nav" class="question-nav"></div>

    <main class="quiz-main">
      <section class="question-column">
        <div id="question-container"></div>

        <div class="nav-row">
          <button id="prev-btn" type="button">◀ Zurück</button>
          <button id="check-btn" type="button" class="primary">Antwort prüfen</button>
          <button id="next-btn" type="button">Weiter ▶</button>
        </div>
        <div class="nav-row second">
          <button id="eval-btn" type="button" class="primary">
            Gesamtes Quiz auswerten
          </button>
        </div>
      </section>
    </main>

    <!-- ERGEBNIS & LÖSUNGEN -->
    <div id="solution-overlay" class="solution-overlay hidden">
      <div class="solution-panel">
        <div class="solution-header">
          <h2 id="solution-title">Gesamtergebnis</h2>
          <button id="close-solution-btn" class="small" type="button">Schließen ✕</button>
        </div>
        <div id="solution-summary" class="solution-summary"></div>
        <div class="result-actions">
          <button id="show-solutions-btn" class="small primary" type="button">
            Lösungsschlüssel anzeigen
          </button>
        </div>
        <div id="solution-list" class="solution-list hidden"></div>
      </div>
    </div>
  </div>

  <script>
    // ============================
    // Basis-Fragen (dein altes Quiz)
    // ============================

    const BASE_QUESTIONS = [
      // --- Öffentliches / Privatrecht Grundlagen ---
      {
        id: 1,
        topic: "Rechtsgebiete – Grundlagen",
        text: "Welche Aussagen zum Privatrecht sind zutreffend?",
        options: [
          "Privatrecht regelt Rechtsbeziehungen, bei denen sich die Beteiligten gleichberechtigt gegenüberstehen.",
          "Für die Rechtsdurchsetzung im Privatrecht sind Zivilgerichte zuständig.",
          "Privatrecht regelt die Ausübung hoheitlicher Macht durch den Staat.",
          "Privatrecht regelt die Zuständigkeit und Tätigkeit von Bundes- und Landesbehörden."
        ],
        correctIndices: [0, 1],
        explanation:
          "Privatrecht (Zivilrecht) betrifft gleichberechtigte Beziehungen zwischen Privaten; zuständig sind ordentliche Gerichte. Hoheitsverwaltung und Behördenzuständigkeit gehören zum öffentlichen Recht."
      },
      {
        id: 2,
        topic: "Rechtsgebiete – Grundlagen",
        text: "Welche Aussagen zum Öffentlichen Recht sind richtig?",
        options: [
          "Öffentliches Recht regelt u.a. die Tätigkeit von mit Hoheitsgewalt ausgestatteten Rechtsträgern.",
          "Öffentliches Recht regelt Rechtsbeziehungen, bei denen sich die Beteiligten gleichberechtigt gegenüberstehen.",
          "Zum öffentlichen Recht zählen z.B. Verfassungsrecht und Verwaltungsrecht.",
          "Im öffentlichen Recht geht es niemals um hoheitliche Macht."
        ],
        correctIndices: [0, 2],
        explanation:
          "Öffentliches Recht betrifft hoheitliche Tätigkeit (Bund, Länder, Gemeinden). Verfassungs- und Verwaltungsrecht sind zentrale Teilgebiete."
      },
      {
        id: 3,
        topic: "Rechtsquellen – zwingendes / dispositives Recht",
        text: "Welche Aussagen zu zwingendem und dispositivem Recht treffen zu?",
        options: [
          "Absolut zwingendes Recht kann durch Parteienvereinbarung überhaupt nicht abgeändert werden.",
          "Relativ zwingendes Recht kann nur zugunsten eines bestimmten Vertragspartners abgeändert werden.",
          "Dispositives Recht kann durch vertragliche Vereinbarung geändert werden, solange keine zwingenden Normen verletzt werden.",
          "Dispositives Recht wird auch absolut zwingendes Recht genannt."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Absolut zwingendes Recht ist gar nicht veränderbar, relativ zwingendes nur zugunsten einer Partei. Dispositives Recht ist „nachgiebig“ und kann vertraglich ersetzt werden."
      },
      {
        id: 4,
        topic: "Stufenbau der Rechtsordnung",
        text: "Welche Aussagen zum Stufenbau der Rechtsordnung sind richtig?",
        options: [
          "Verordnungen sind Normen mit genereller Rechtskraft und müssen dem Gesetz entsprechen.",
          "Nationale Verordnungen und EU-Verordnungen sind immer gleichrangig.",
          "Das EU-Recht hat Anwendungsvorrang, steht aber nicht einfach „über“ der österreichischen Verfassung.",
          "Eine rangniedrigere Norm darf nur auf Grundlage einer höheren Norm erlassen werden und darf ihr nicht widersprechen."
        ],
        correctIndices: [0, 3],
        explanation:
          "Verordnungen brauchen eine gesetzliche Grundlage. Rangniedrigere Normen müssen inhaltlich und formal auf eine höherrangige Norm gestützt sein und dürfen ihr nicht widersprechen."
      },
      {
        id: 5,
        topic: "Verfassungsprinzipien",
        text: "Das demokratische Prinzip im engeren Sinn besagt unter anderem, dass …",
        options: [
          "alle Staatsbürger an der Staatswillensbildung beteiligt sind und damit Träger der Staatsgewalt sind.",
          "Österreich in Bundesländer mit eigenen Kompetenzen aufgeteilt ist.",
          "Österreich ein gewähltes Staatsoberhaupt hat.",
          "die Staatsbürger gegenüber dem Staat Grund- und Freiheitsrechte haben."
        ],
        correctIndices: [0],
        explanation:
          "Kern des demokratischen Prinzips ist die Beteiligung der Staatsbürger an der Staatswillensbildung (Souveränität)."
      },
      {
        id: 6,
        topic: "Verfassungsprinzipien / Gewaltentrennung",
        text: "Welche Aussagen zum gewaltentrennenden Prinzip sind zutreffend?",
        options: [
          "Es trennt Gesetzgebung, Verwaltung und Gerichtsbarkeit, um Machtkonzentration zu verhindern.",
          "Es wird auch Föderalismus genannt.",
          "Es bedeutet, dass die Staatsfunktionen von unterschiedlichen, weitgehend unabhängigen Organen ausgeübt werden.",
          "Es umfasst hauptsächlich die Grund- und Freiheitsrechte."
        ],
        correctIndices: [0, 2],
        explanation:
          "Gewaltenteilung trennt die Funktionen Gesetzgebung, Vollziehung und Gerichtsbarkeit und ordnet sie verschiedenen Organen zu."
      },
      {
        id: 7,
        topic: "Bundesgesetzgebung",
        text: "Welche Aussagen zur Bundesgesetzgebung sind richtig?",
        options: [
          "Der Nationalrat beschließt Bundesgesetze, der Bundesrat wirkt mit.",
          "Der Bundespräsident beurkundet Bundesgesetze vor der Kundmachung.",
          "Die Gesetzgebungsperiode des Nationalrats dauert grundsätzlich 5 Jahre.",
          "Die Bundesregierung kann einfache Gesetze ohne Nationalrat beschließen."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Gesetze werden im Parlament beschlossen, vom Bundespräsidenten beurkundet und im BGBl. kundgemacht. Die Bundesregierung kann selbst keine Gesetze erlassen."
      },
      {
        id: 8,
        topic: "Höchstgerichte",
        text: "Welche Aussagen zu den österreichischen Höchstgerichten sind korrekt?",
        options: [
          "Der Verfassungsgerichtshof prüft u.a. Gesetze und Verordnungen auf Verfassungsmäßigkeit.",
          "Der Verwaltungsgerichtshof kontrolliert Entscheidungen der Verwaltungsgerichte.",
          "Der Oberste Gerichtshof ist Höchstgericht in Zivil- und Strafsachen.",
          "Der EuGH hebt österreichische Verfassungsbestimmungen auf, wenn sie ihm nicht gefallen."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "VfGH, VwGH und OGH sind die drei österreichischen Höchstgerichte. Der EuGH entscheidet über EU-Rechtsfragen, aber nicht direkt über österreichische Verfassungsbestimmungen."
      },
      {
        id: 9,
        topic: "Justiz / ordentliche Gerichtsbarkeit",
        text: "Welche Aussagen zur ordentlichen Gerichtsbarkeit treffen zu?",
        options: [
          "Ordentliche Gerichte sind für Zivil- und Strafsachen zuständig, soweit nicht Verwaltungsbehörden zuständig sind.",
          "Gerichtsverfahren sind grundsätzlich mündlich und öffentlich.",
          "Es gibt eine Geschäftsverteilung, die regelt, welcher Richter für welche Fälle zuständig ist.",
          "Ordentliche Gerichte vollziehen ausschließlich Verwaltungsrecht."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Ordentliche Gerichte (BG, LG, OLG, OGH) verhandeln Zivil- und Strafsachen. Die Zuständigkeit ist durch Geschäftsverteilung geregelt."
      },

      // --- Verwaltung / Verwaltungsverfahren / Verwaltungsstrafrecht ---
      {
        id: 10,
        topic: "Verwaltung – Begriff",
        text: "Welche Aussagen zur Verwaltung sind richtig?",
        options: [
          "Verwaltung ist alle staatliche Vollziehung, die nicht Gesetzgebung oder Gerichtsbarkeit ist.",
          "Verwaltung wird von Verwaltungsbehörden ausgeübt.",
          "Verwaltung kann hoheitlich oder privatrechtlich erfolgen.",
          "Verwaltung ist ein anderer Begriff für Gerichtsbarkeit."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Zur Verwaltung gehören hoheitliche Akte (Bescheide, Verordnungen) und privatrechtliches Handeln (z.B. Verträge der öffentlichen Hand)."
      },
      {
        id: 11,
        topic: "Hoheitsverwaltung – Handlungsformen",
        text: "Welche Handlungsformen gehören zur Hoheitsverwaltung?",
        options: [
          "Verordnungen.",
          "Bescheide.",
          "Urteile.",
          "Privatwirtschaftliche Verträge der Gemeinde."
        ],
        correctIndices: [0, 1],
        explanation:
          "Verordnungen und Bescheide sind typische hoheitliche Akte der Verwaltung. Urteile stammen von Gerichten, Verträge sind privatwirtschaftliches Handeln."
      },
      {
        id: 12,
        topic: "Bescheid",
        text: "Welche Wesensmerkmale eines Bescheids sind zutreffend?",
        options: [
          "Er richtet sich an einen bestimmten individuellen Adressatenkreis.",
          "Er ist ein hoheitlicher Akt einer Verwaltungsbehörde.",
          "Er wird durch Zustellung oder Verkündung rechtswirksam.",
          "Er ist eine generelle Norm mit unbestimmtem Adressatenkreis."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Bescheide sind individuelle Verwaltungsakte. Generelle Normen mit unbestimmtem Adressatenkreis sind Gesetze oder Verordnungen."
      },
      {
        id: 13,
        topic: "Parteistellung",
        text: "Mit der Parteistellung im Verwaltungsverfahren sind welche Rechte verbunden?",
        options: [
          "Recht auf Akteneinsicht.",
          "Recht, Rechtsmittel zu erheben.",
          "Rechtsanspruch auf Entscheidung der Behörde innerhalb angemessener Frist.",
          "Nur mündliche Verkündung, aber keine Zustellung des Bescheids."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Parteistellung sichert u.a. Akteneinsicht, Parteiengehör, Rechtsmittelrecht und Anspruch auf Entscheidung."
      },
      {
        id: 14,
        topic: "Verwaltungsverfahrensrecht – Rechtsquellen",
        text: "Welche Rechtsquellen gehören insbesondere zum Verwaltungsverfahrensrecht?",
        options: [
          "Allgemeines Verwaltungsverfahrensgesetz (AVG).",
          "Zustellgesetz (ZustG).",
          "Verwaltungsstrafgesetz (VStG).",
          "Strafprozessordnung (StPO)."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "AVG, ZustG und VStG regeln das Verwaltungsverfahren; StPO betrifft das gerichtliche Strafverfahren."
      },
      {
        id: 15,
        topic: "Zustellung",
        text: "Welche Aussagen zur Zustellung behördlicher Schriftstücke treffen zu?",
        options: [
          "RSa bedeutet, dass nur der Empfänger selbst übernehmen darf.",
          "RSb erlaubt die Übergabe auch an andere Empfangsberechtigte im Haushalt.",
          "Bei Hinterlegung gilt das Schriftstück mit dem ersten Tag der Abholfrist als zugestellt.",
          "Die Rechtsmittelfrist ist gewahrt, wenn das Schriftstück am ersten Tag nach Fristablauf zur Post gegeben wird."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "RSa: nur Empfänger; RSb: Haushaltsangehörige; Hinterlegung: Zustellung mit 1. Tag der Abholfrist. Für Fristen zählt die Aufgabe am letzten Tag."
      },
      {
        id: 16,
        topic: "Beschwerde / Beschwerdevorentscheidung",
        text: "Welche Aussagen zur Bescheidbeschwerde sind richtig?",
        options: [
          "Sie ist grundsätzlich binnen vier Wochen ab Zustellung einzubringen.",
          "Sie ist bei der bescheiderlassenden Behörde einzubringen.",
          "Die Behörde kann eine Beschwerdevorentscheidung erlassen.",
          "Gegen eine Beschwerdevorentscheidung gibt es keine weitere Möglichkeit."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Die Beschwerde wird bei der Ausgangsbehörde eingebracht. Diese kann eine Beschwerdevorentscheidung treffen; dagegen ist ein Vorlageantrag an das Verwaltungsgericht möglich."
      },
      {
        id: 17,
        topic: "Verwaltungsstrafrecht – Rechtsquellen",
        text: "Welche Aussagen zu den Rechtsquellen des Verwaltungsstrafrechts sind korrekt?",
        options: [
          "Verwaltungsstrafbestimmungen und Strafausmaß stehen im Strafgesetzbuch (StGB).",
          "Verwaltungsstrafbestimmungen und Strafausmaß finden sich in den jeweiligen Materiengesetzen (z.B. BauO).",
          "Das Verwaltungsstrafgesetz regelt den Ablauf des Verwaltungsstrafverfahrens.",
          "Der Ablauf des Verwaltungsstrafverfahrens ist ausschließlich in der Strafprozessordnung geregelt."
        ],
        correctIndices: [1, 2],
        explanation:
          "Die einzelnen Tatbestände stehen in Materiengesetzen; das VStG regelt das Verwaltungsstrafverfahren."
      },
      {
        id: 18,
        topic: "Fahrlässigkeit",
        text: "Welche Aussage zur Fahrlässigkeit ist NICHT zutreffend?",
        options: [
          "Fahrlässig handelt, wer die gebotene Sorgfalt außer Acht lässt.",
          "Fahrlässig handelt, wer geistig und körperlich fähig wäre, die Sorgfalt einzuhalten.",
          "Fahrlässigkeit liegt auch bei Unzurechnungsfähigkeit vor.",
          "Maßstab ist u.a., was einem Täter zugemutet werden kann."
        ],
        correctIndices: [2],
        explanation:
          "Unzurechnungsfähige sind strafrechtlich grundsätzlich nicht verantwortlich; Fahrlässigkeit setzt Zurechnungsfähigkeit voraus."
      },

      // --- Raumordnung / BauO / Gewerbe ---
      {
        id: 19,
        topic: "Raumordnung – Flächenwidmungsplan",
        text: "Welche Aussagen zum Flächenwidmungsplan sind richtig?",
        options: [
          "Er ist grundsätzlich eine Verordnung der Gemeinde und teilt das Gemeindegebiet in Widmungskategorien ein.",
          "Er wird als Bescheid von der Baubehörde an jeden Grundeigentümer zugestellt.",
          "Er unterliegt der Aufsicht der jeweiligen Landesregierung.",
          "Er ist Grundlage für Baubewilligungen, da in der Regel Baulandwidmung erforderlich ist."
        ],
        correctIndices: [0, 2, 3],
        explanation:
          "Flächenwidmungspläne sind Verordnungen der Gemeinde, stehen unter Landesaufsicht und sind zentrale Grundlage für Baubewilligungen."
      },
      {
        id: 20,
        topic: "Gewerberecht – Gewerbeberechtigung",
        text: "Wann ist eine Gewerbeberechtigung nach der GewO erforderlich?",
        options: [
          "Bei Ausübung eines freien Gewerbes.",
          "Bei Ausübung eines reglementierten Gewerbes.",
          "Nie, wenn keine Betriebsanlagengenehmigung notwendig ist.",
          "Nicht, wenn die Tätigkeit ausdrücklich von der GewO ausgenommen ist."
        ],
        correctIndices: [0, 1, 3],
        explanation:
          "Sowohl freie als auch reglementierte Gewerbe sind anzeigepflichtig bzw. bewilligungspflichtig. Ausgenommene Tätigkeiten fallen nicht unter die GewO."
      },

      // --- Privatrecht / Verträge / AGB / Sicherheiten ---
      {
        id: 21,
        topic: "Privatrechtsquellen",
        text: "Welche Aussagen zu den Privatrechtsquellen sind richtig?",
        options: [
          "Das ABGB ist das Basisgesetz des österreichischen Privatrechts.",
          "Sonderprivatrechtsgesetze gehen als speziellere Normen dem ABGB vor.",
          "Sonderprivatrechtsgesetze dürfen keine abweichenden Regelungen enthalten.",
          "Das ABGB gilt subsidiär, wenn kein spezielleres Privatrechtsgesetz eingreift."
        ],
        correctIndices: [0, 1, 3],
        explanation:
          "Spezialgesetze (Mietrecht, KSchG usw.) gehen vor; das ABGB ergänzt subsidiär."
      },
      {
        id: 22,
        topic: "Geschäftsfähigkeit",
        text: "Geschäftsfähigkeit: Welche Aussagen zu einer 16-jährigen Person sind richtig (vereinfacht)?",
        options: [
          "Sie kann über eigenes Einkommen verfügen, soweit Lebensbedürfnisse nicht gefährdet werden.",
          "Sie ist voll geschäftsfähig.",
          "Sie darf alterstypische Geschäfte abschließen und Schenkungen ohne Bedingungen annehmen.",
          "Sie kann überhaupt keine wirksamen Rechtsgeschäfte abschließen."
        ],
        correctIndices: [0, 2],
        explanation:
          "Jugendliche sind beschränkt geschäftsfähig: bestimmte Geschäfte sind möglich, aber nicht alle."
      },
      {
        id: 23,
        topic: "Vertragsabschluss",
        text: "Welche Voraussetzungen sind für einen gültigen Vertrag im Regelfall erforderlich?",
        options: [
          "Übereinstimmende Willenserklärungen (Anbot und Annahme).",
          "Geschäftsfähigkeit der Parteien.",
          "Immer Schriftlichkeit – sonst ist der Vertrag unwirksam.",
          "Kein Verstoß gegen zwingendes Recht oder gute Sitten."
        ],
        correctIndices: [0, 1, 3],
        explanation:
          "Essentiell sind Anbot/Annahme, Geschäftsfähigkeit und zulässiger Vertragsinhalt. Schriftlichkeit ist nur ausnahmsweise zwingend."
      },
      {
        id: 24,
        topic: "AGB",
        text: "Welche Aussagen zu Allgemeinen Geschäftsbedingungen (AGB) treffen zu?",
        options: [
          "AGB gelten, wenn auf sie hingewiesen und sie akzeptiert werden.",
          "AGB werden für immer wieder gleichartig abgeschlossene Verträge erstellt.",
          "Unklare Klauseln werden zum Nachteil des Verwenders ausgelegt (Transparenzgebot).",
          "AGB sind gegenüber Konsumenten immer unzulässig."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "AGB sind zulässig, müssen aber transparent sein und wirksam einbezogen werden."
      },
      {
        id: 25,
        topic: "Kostenvoranschlag – Verbraucher",
        text: "Welche Aussagen zum Kostenvoranschlag an Verbraucher (ohne besondere Vereinbarung) sind korrekt?",
        options: [
          "Er ist kostenlos.",
          "Der genannte Preis gilt als verbindlich.",
          "Die Erstellung ist kostenpflichtig.",
          "Der genannte Preis ist unverbindlich."
        ],
        correctIndices: [0, 1],
        explanation:
          "Nach KSchG ist der Kostenvoranschlag im Zweifel kostenlos und verbindlich, sofern nichts anderes vereinbart wurde."
      },
      {
        id: 26,
        topic: "Sicherheiten – Eigentumsvorbehalt",
        text: "Welche Aussagen zum Eigentumsvorbehalt sind richtig?",
        options: [
          "Vereinbarung, dass der Käufer erst mit vollständiger Zahlung Eigentümer wird.",
          "Ohne Eigentumsvorbehalt wird der Käufer mit Übergabe Eigentümer.",
          "Bei Insolvenz des Käufers kann der Verkäufer die Sache aussondern, wenn ein Eigentumsvorbehalt besteht.",
          "Eigentumsvorbehalt gilt automatisch bei jedem Kauf, auch ohne Vereinbarung."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Der Eigentumsvorbehalt muss ausdrücklich vereinbart werden; er sichert den Verkäufer bei Nichtzahlung/Insolvenz."
      },
      {
        id: 27,
        topic: "Sicherheiten – Bankgarantie",
        text: "Welche Aussagen zur Bankgarantie treffen zu?",
        options: [
          "Sie ist ein abstraktes Zahlungsversprechen einer Bank zugunsten eines Dritten.",
          "Sie wird u.a. zur Sicherung eines Haftrücklasses verwendet.",
          "Sie ist streng akzessorisch vom Bestand des Grundgeschäfts abhängig.",
          "Sie ist grundsätzlich vom Grundgeschäft rechtlich unabhängig."
        ],
        correctIndices: [0, 1, 3],
        explanation:
          "Die Bankgarantie ist ein abstraktes Sicherungsinstrument; der Begünstigte kann Zahlung verlangen, wenn die vereinbarten Bedingungen eintreten."
      },
      {
        id: 28,
        topic: "Konventionalstrafe",
        text: "Welche Aussagen zur Konventionalstrafe (= Pönale) sind korrekt?",
        options: [
          "Sie ist ein pauschalierter Schadenersatz für den Fall der Schlechterfüllung oder Nichterfüllung.",
          "Sie ist grundsätzlich verschuldensabhängig.",
          "Das Gericht kann eine überhöhte Konventionalstrafe mäßigen.",
          "Sie kann vertraglich nicht vereinbart werden."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Die Konventionalstrafe wird vertraglich vereinbart, ist verschuldensabhängig und unterliegt dem richterlichen Mäßigungsrecht."
      },
      {
        id: 29,
        topic: "Lieferverzug / Annahmeverzug",
        text: "Welche Aussagen sind richtig (vereinfacht)?",
        options: [
          "Beim absoluten Fixgeschäft zerfällt der Vertrag bei Nichterfüllung zum vereinbarten Termin.",
          "Beim Termingeschäft kann nach Nachfristsetzung vom Vertrag zurückgetreten werden.",
          "Im Annahmeverzug trägt der Gläubiger die Gefahr des zufälligen Unterganges.",
          "Bei Verzug bestehen nie Schadenersatzansprüche."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Fixgeschäft: Vertrag fällt bei Nichterfüllung automatisch; Termingeschäft: Nachfrist + Rücktritt; im Annahmeverzug geht die Gefahr auf den Gläubiger über."
      },

      // --- Gewährleistung / Schadenersatz / Produkthaftung ---
      {
        id: 30,
        topic: "Gewährleistung – Grundlagen",
        text: "Welche Aussagen zur Gewährleistung sind richtig (vereinfacht)?",
        options: [
          "Der Mangel muss bei Übergabe vorhanden sein.",
          "Gewährleistung ist verschuldensunabhängig.",
          "Regelmäßige Frist: 2 Jahre bewegliche, 3 Jahre unbewegliche Sachen.",
          "Zwischen Unternehmer und Verbraucher kann Gewährleistung völlig ausgeschlossen werden."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Gewährleistung knüpft an den Zeitpunkt der Übergabe an, ist verschuldensunabhängig und im Verbrauchergeschäft zwingend."
      },
      {
        id: 31,
        topic: "Gewährleistung – Beweislastumkehr",
        text: "Welche Aussagen zur Beweislastumkehr im Verbrauchergeschäft sind zutreffend?",
        options: [
          "Tritt ein Mangel innerhalb von 6 Monaten auf, wird vermutet, dass er bei Übergabe vorhanden war.",
          "In den ersten 6 Monaten muss der Unternehmer beweisen, dass die Sache mangelfrei war.",
          "In den ersten 6 Monaten trägt immer der Verbraucher die volle Beweislast.",
          "Bei typischen Verschleißteilen kann die Vermutung ausgeschlossen sein."
        ],
        correctIndices: [0, 1, 3],
        explanation:
          "Die Vermutung wirkt zugunsten des Verbrauchers; der Unternehmer muss ggf. das Gegenteil beweisen."
      },
      {
        id: 32,
        topic: "Gewährleistung – Rechtsbehelfe",
        text: "Welche Gewährleistungsbehelfe stehen dem Käufer zu?",
        options: [
          "Verbesserung (Reparatur).",
          "Austausch.",
          "Preisminderung.",
          "Wandlung."
        ],
        correctIndices: [0, 1, 2, 3],
        explanation:
          "Primär Verbesserung oder Austausch; sekundär Preisminderung oder Wandlung."
      },
      {
        id: 33,
        topic: "Schadenersatz – Voraussetzungen",
        text: "Welche Voraussetzungen müssen für Schadenersatzansprüche typischerweise vorliegen?",
        options: [
          "Schaden.",
          "Rechtswidrigkeit.",
          "Verschulden (außer bei Gefährdungshaftung).",
          "Zufall ohne Rechtswidrigkeit."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Klassisch: Schaden, Rechtswidrigkeit, Kausalität, Verschulden."
      },
      {
        id: 34,
        topic: "Erfüllungsgehilfenhaftung",
        text: "Welche Regelung beschreibt § 1313a ABGB?",
        options: [
          "Erfüllungsgehilfenhaftung.",
          "Amtshaftung.",
          "Produkthaftung.",
          "Organhaftung."
        ],
        correctIndices: [0],
        explanation:
          "Der Schuldner haftet für Verschulden seiner Erfüllungsgehilfen wie für eigenes."
      },
      {
        id: 35,
        topic: "Produkthaftung",
        text: "Welche Aussagen zur Produkthaftung sind korrekt (vereinfacht)?",
        options: [
          "Sie ist verschuldensunabhängig.",
          "Die absolute Frist beträgt 10 Jahre ab Inverkehrbringen.",
          "Sie ersetzt alle Gewährleistungsrechte.",
          "Sie betrifft v.a. Personen- und bestimmte Sachschäden."
        ],
        correctIndices: [0, 1, 3],
        explanation:
          "Produkthaftung ergänzt die Gewährleistung; absolute Verjährung nach 10 Jahren."
      },
      {
        id: 36,
        topic: "Verjährung",
        text: "Welche Aussagen zur Verjährung treffen zu?",
        options: [
          "Verjährung macht den Anspruch gerichtlich nicht mehr durchsetzbar, er kann aber freiwillig erfüllt werden.",
          "Der Anspruch erlischt automatisch und kann auch freiwillig nicht mehr erfüllt werden.",
          "Viele Forderungen des täglichen Lebens verjähren nach 3 Jahren.",
          "Eine bloße Mahnung hemmt die Verjährung nicht dauerhaft."
        ],
        correctIndices: [0, 2, 3],
        explanation:
          "Verjährung ist eine Einrede. Typische Forderungen verjähren in 3 Jahren; Mahnungen allein unterbrechen die Frist nicht."
      },

      // --- Sachenrecht / Grundbuch-Basics ---
      {
        id: 37,
        topic: "Sachenrecht – Grundsätze",
        text: "Welche Grundsätze des Sachenrechts sind zutreffend?",
        options: [
          "Publizität.",
          "Spezialität.",
          "Typenzwang.",
          "Beliebigkeitsprinzip."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Sachenrechte sind streng typisiert, beziehen sich auf bestimmte Sachen und sollen nach außen erkennbar sein."
      },
      {
        id: 38,
        topic: "Pfandrecht – Grundsätze",
        text: "Welche Grundsätze des Pfandrechts sind richtig?",
        options: [
          "Akzessorietät: Pfandrecht hängt vom Bestand der gesicherten Forderung ab.",
          "Spezialität: Pfandrechte können nur an bestimmten, individualisierten Sachen begründet werden.",
          "Priorität: Rang nach Zeitpunkt der Eintragung.",
          "Publizität spielt keine Rolle."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Akzessorietät, Spezialität, Priorität und Publizität sind zentrale Pfandrechtsgrundsätze."
      },
      {
        id: 39,
        topic: "Servitut",
        text: "Welche Aussagen zu Servituten (Dienstbarkeiten) sind richtig?",
        options: [
          "Sie sind beschränkte dingliche Nutzungsrechte an fremden Sachen.",
          "Der Belastete muss i.d.R. dulden oder unterlassen.",
          "Sie können ersessen werden.",
          "Sie verjähren automatisch nach 5 Jahren Nichtausübung."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Servituten sind beschränkte Nutzungsrechte; Ersitzung ist möglich, die Verjährungsfristen sind sehr lang."
      },
      {
        id: 40,
        topic: "Baurecht",
        text: "Welche Aussagen zum Baurecht (Baurechtsgesetz) sind richtig?",
        options: [
          "Es ist ein selbständiges, veräußerliches und vererbliches Recht an einer fremden Liegenschaft.",
          "Es wird durch Eintragung im Grundbuch begründet.",
          "Es gilt als unbewegliche Sache.",
          "Es darf nur von der öffentlichen Hand vergeben werden."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Baurechte werden grundbücherlich eingetragen und sind wie Liegenschaften zu behandeln; auch Private können Baurechte vereinbaren."
      },
      {
        id: 41,
        topic: "Grundbuch – Aufbau",
        text: "Welche Bestandteile gehören typischerweise zum Grundbuch (vereinfacht)?",
        options: [
          "Hauptbuch mit A-, B- und C-Blatt.",
          "Urkundensammlung.",
          "Kataster (Grundstücksverzeichnis).",
          "Flächenwidmungsplan."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Flächenwidmungspläne gehören zur Raumordnung, nicht zum Grundbuch."
      },
      {
        id: 42,
        topic: "Grundbuch – Blätter",
        text: "Welche Zuordnungen sind korrekt?",
        options: [
          "A-Blatt: Gutsbestand / Widmung / Grundstücksdaten.",
          "B-Blatt: Eigentumsverhältnisse.",
          "C-Blatt: Lasten (Hypotheken, Dienstbarkeiten, Reallasten).",
          "B-Blatt: Pfandrechte."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Pfandrechte stehen im C-Blatt, nicht im B-Blatt."
      },
      {
        id: 43,
        topic: "Grundbuch – Plombe",
        text: "Welche Aussagen zur Plombe sind zutreffend?",
        options: [
          "Sie zeigt ein anhängiges Grundbuchsgesuch an.",
          "Während der Plombe kann sich der Rechtszustand durch Eintragung ändern.",
          "Nach Einverleibung wird aus der TZ der Plombe die „letzte TZ“.",
          "Sie bedeutet, dass das Grundbuch nicht mehr einsichtig ist."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Die Plombe ist ein Warnhinweis auf laufende Eintragungen; Einsicht bleibt möglich."
      },
      {
        id: 44,
        topic: "Justizberufe",
        text: "Welche Aussagen zu Berufen in der Justiz sind richtig?",
        options: [
          "Richter sind unabhängig und nur dem Gesetz unterworfen.",
          "Staatsanwälte vertreten im Strafverfahren die Anklage.",
          "Rechtsanwälte vertreten und beraten Parteien.",
          "Notare vollziehen Strafurteile."
        ],
        correctIndices: [0, 1, 2],
        explanation:
          "Notare sind u.a. für Beurkundungen, Verlassenschaften und Gesellschaftsgründungen zuständig, nicht für Strafvollzug."
      }
    ];

    // ============================================
    // Fragen deines Kollegen (JSON) als Rohdaten
    // ============================================

    const COLLEAGUE_QUESTIONS_RAW = [
      { "id": 1, "tag": "ÖR", "q": "Welche Staatsgewalten sieht die österreichische Bundesverfassung vor?", "type": "mc", "choices": [ "Legislative, Exekutive, Judikative", "Legislative, Exekutive, Verwaltung", "Bundesrat, Nationalrat, Bundesregierung", "Bundespräsident, Nationalrat, Bundesrat" ], "correct": [ 0 ], "a": "Legislative erlässt Gesetze; Exekutive vollzieht; Judikative entscheidet." },
      { "id": 2, "tag": "ÖR", "q": "Welche Organe gehören der Legislative an? (Wählen Sie zwei)", "type": "mc", "choices": [ "Nationalrat", "Bundesrat", "Bundespräsident", "VfGH" ], "correct": [ 0, 1 ] },
      { "id": 3, "tag": "ÖR", "q": "Welche Normen stehen im Stufenbau über Verordnungen?", "type": "mc", "choices": [ "Verfassung und einfache Gesetze", "Nur Verordnungen", "Bescheide", "Rechtsmeinungen" ], "correct": [ 0 ] },
      { "id": 4, "tag": "ÖR", "q": "Was ist eine individuelle Rechtsnorm?", "type": "mc", "choices": [ "Bescheid", "Verordnung", "Gesetz", "Richtlinie" ], "correct": [ 0 ] },
      { "id": 5, "tag": "ÖR", "q": "Welche Elemente muss ein Bescheid enthalten?", "type": "mc", "choices": [ "Spruch, Begründung, Rechtsmittelbelehrung", "Nur Spruch", "Nur Begründung", "Nur Unterschrift" ], "correct": [ 0 ] },
      { "id": 6, "tag": "ÖR", "q": "Wann gilt ein Bescheid als zugestellt?", "type": "mc", "choices": [ "Wenn er in den Machtbereich des Empfängers gelangt", "Bei persönlicher Übergabe erst", "Mit Veröffentlichung im Amtsblatt", "Bei Hinterlegung beim Nachbarn" ], "correct": [ 0 ] },
      { "id": 7, "tag": "ÖR", "q": "Welche Zustellart erlaubt Ersatzempfang?", "type": "mc", "choices": [ "RSb-Brief", "RSa-Brief", "Hinterlegung", "Einschreiben" ], "correct": [ 0 ] },
      { "id": 8, "tag": "ÖR", "q": "Welche Rechtsmittel sind gegen einen Verwaltungsbescheid möglich?", "type": "mc", "choices": [ "Beschwerde, Wiederaufnahme, Wiedereinsetzung", "Revision an OGH", "Klage beim EuGH", "Nichtigkeitsklage beim VfGH" ], "correct": [ 0 ] },
      { "id": 9, "tag": "ÖR", "q": "Welche Behörde ist in Wien primär für Baurecht zuständig?", "type": "mc", "choices": [ "MA 37", "MA 48", "MA 20", "MA 6" ], "correct": [ 0 ] },
      { "id": 10, "tag": "ÖR", "q": "Was regelt der Flächenwidmungsplan?", "type": "mc", "choices": [ "Nutzung und Widmung von Flächen", "Eigentumsverhältnisse", "Mietverhältnisse", "Steuerfragen" ], "correct": [ 0 ] },
      { "id": 11, "tag": "ÖR", "q": "Welche Instanz entscheidet über Verfassungswidrigkeit?", "type": "mc", "choices": [ "VfGH", "OGH", "VwGH", "Verwaltungsbehörde" ], "correct": [ 0 ] },
      { "id": 12, "tag": "EU", "q": "Was bedeutet Anwendungsvorrang des EU-Rechts?", "type": "mc", "choices": [ "EU-Recht geht nationalem Recht vor", "Nationales Recht geht vor", "Beide gelten gleich", "EuGH entscheidet nur" ], "correct": [ 0 ] },
      { "id": 13, "tag": "EU", "q": "Welches Organ ist Teil der Gesetzgebung der EU?", "type": "mc", "choices": [ "Europäisches Parlament", "EuGH", "Rechnungshof", "Rat der Regionen" ], "correct": [ 0 ] },
      { "id": 14, "tag": "GB", "q": "Was steht typischerweise im A-Blatt des Grundbuchs?", "type": "mc", "choices": [ "Einlagezahl, Widmung, Flächenangaben", "Eigentümer", "Hypotheken", "Dienstbarkeiten" ], "correct": [ 0 ] },
      { "id": 15, "tag": "GB", "q": "Welche Eintragungen finden sich im C-Blatt?", "type": "mc", "choices": [ "Hypotheken, Reallasten, Dienstbarkeiten", "Widmungen", "Einlagezahl", "Eigentümer" ], "correct": [ 0 ] },
      { "id": 16, "tag": "PR", "q": "Welche Frist gilt bei beweglichen Sachen für Gewährleistung?", "type": "mc", "choices": [ "2 Jahre", "1 Jahr", "5 Jahre", "6 Monate" ], "correct": [ 0 ] },
      { "id": 17, "tag": "PR", "q": "Welche Frist gilt für Baumängel typischerweise?", "type": "mc", "choices": [ "3 Jahre", "6 Monate", "1 Jahr", "10 Jahre" ], "correct": [ 0 ] },
      { "id": 18, "tag": "PR", "q": "Was ist Eigentumsvorbehalt?", "type": "mc", "choices": [ "Eigentum geht erst mit vollständiger Zahlung über", "Eigentum bleibt immer beim Käufer", "Hypothek", "Dienstbarkeit" ], "correct": [ 0 ] },
      { "id": 19, "tag": "PR", "q": "Welche Rechtsfolge hat die Einverleibung?", "type": "mc", "choices": [ "Dinglicher Rechtserwerb wird wirksam", "Nur deklarative Wirkung", "Keine Wirkung", "Nur informativ" ], "correct": [ 0 ] },
      { "id": 20, "tag": "PR", "q": "Welche Rechte stehen dem Käufer bei Mangel zu? (Mehrfachwahl)", "type": "mc", "choices": [ "Nacherfüllung", "Austausch", "Preisminderung", "Wandlung" ], "correct": [ 0, 1, 2, 3 ] },
      { "id": 21, "tag": "HAFT", "q": "Welche Voraussetzungen sind für deliktischen Schadenersatz erforderlich?", "type": "mc", "choices": [ "Schaden, Kausalität, Rechtswidrigkeit, Verschulden", "Nur Schaden", "Nur Verschulden", "Nur Kausalität" ], "correct": [ 0 ] },
      { "id": 22, "tag": "HAFT", "q": "Was beschreibt Mitverschulden?", "type": "mc", "choices": [ "Mitwirkung des Geschädigten, Kürzung des Anspruchs", "Erhöhung des Anspruchs", "Keine Auswirkung", "Automatische Haftung" ], "correct": [ 0 ] },
      { "id": 23, "tag": "PHG", "q": "Welche Schäden deckt das Produkthaftungsgesetz?", "type": "mc", "choices": [ "Personenschäden und Sachschäden an privaten Sachen", "Reine Vermögensschäden", "Nur Sachschäden", "Nur Personenschäden" ], "correct": [ 0 ] },
      { "id": 24, "tag": "PHG", "q": "Wer kann als Hersteller gelten?", "type": "mc", "choices": [ "Hersteller, Importeur, Quasihersteller", "Nur der Händler", "Nur der Zulieferer", "Nur der Verkäufer" ], "correct": [ 0 ] },
      { "id": 25, "tag": "AGB", "q": "Wann ist eine AGB-Klausel nach §879 ABGB nichtig?", "type": "mc", "choices": [ "Bei überraschender oder gröblich benachteiligender Regelung", "Bei langer Formulierung", "Bei handschriftlicher Klausel", "Nie" ], "correct": [ 0 ] },
      { "id": 26, "tag": "KSG", "q": "Wann gilt das 14-tägige Widerrufsrecht?", "type": "mc", "choices": [ "Bei Fernabsatz und Haustürgeschäften", "Beim Kauf im Laden", "Bei Schenkungen", "Bei notariellen Verträgen" ], "correct": [ 0 ] },
      { "id": 27, "tag": "KOST", "q": "Was ist ein verbindlicher Kostenvoranschlag?", "type": "mc", "choices": [ "Ein vertraglich bindender Preis, Überschreitung nur mit Zustimmung", "Unverbindliche Schätzung", "Nur Richtwert", "Nur intern" ], "correct": [ 0 ] },
      { "id": 28, "tag": "ARB", "q": "Welche Stellen sind bei Arbeitsunfall relevant?", "type": "mc", "choices": [ "AUVA, Arbeitsinspektorat, Bezirksbehörde", "OGH, VfGH", "EuGH", "Polizei allein" ], "correct": [ 0 ] },
      { "id": 29, "tag": "VStG", "q": "Welche Rolle hat ein Verantwortlicher nach VStG?", "type": "mc", "choices": [ "Haftung für Verwaltungsübertretungen der Organisation", "Keine Rolle", "Strafrechtliche Verantwortung", "Nur interne Funktion" ], "correct": [ 0 ] },
      { "id": 30, "tag": "VfGH", "q": "Wofür ist der VfGH zuständig?", "type": "mc", "choices": [ "Verfassungsgerichtsbarkeit, Normenkontrolle", "Zivilrechtliche Revision", "Verwaltungsaufsicht", "Europarecht" ], "correct": [ 0 ] },
      { "id": 31, "tag": "VwGH", "q": "Welche Funktion hat der VwGH?", "type": "mc", "choices": [ "Überprüfung verwaltungsgerichtlicher Entscheidungen", "OGH-ähnliche Aufgaben", "VfGH-Funktionen", "EuGH-Funktionen" ], "correct": [ 0 ] },
      { "id": 32, "tag": "OGH", "q": "Welche Aufgabe hat der OGH?", "type": "mc", "choices": [ "Rechtsfortbildung in Zivil- und Strafrecht", "Baurechtsaufsicht", "Verwaltungsrechtsprechung", "Europäische Gesetzgebung" ], "correct": [ 0 ] },
      { "id": 33, "tag": "BO", "q": "Welche Maßnahme kann die Baupolizei ergreifen?", "type": "mc", "choices": [ "Baueinstellung, Sicherungsmaßnahmen, Beseitigungsauftrag", "Nur Beratung", "Nur Geldstrafe", "Nichts" ], "correct": [ 0 ] },
      { "id": 34, "tag": "BO", "q": "Welche Unterlagen gehören typischerweise zu einem Bauantrag?", "type": "mc", "choices": [ "Baupläne, Lageplan, Baubeschreibung, statische Nachweise", "Nur schriftlicher Antrag", "Nur Unterschrift", "Nur Kostenvoranschlag" ], "correct": [ 0 ] },
      { "id": 35, "tag": "GB", "q": "Was schützt die Vormerkung im Grundbuch?", "type": "mc", "choices": [ "Künftige Rechte und deren Rang", "Eigentumserwerb sofort", "Hypothek", "Dienstbarkeit" ], "correct": [ 0 ] },
      { "id": 36, "tag": "GB", "q": "Was ist die Wirkung einer Löschung einer Hypothek?", "type": "mc", "choices": [ "Die Belastung erlischt", "Eigentum geht verloren", "Grund wird unbeleihbar", "Nichts passiert" ], "correct": [ 0 ] },
      { "id": 37, "tag": "PR", "q": "Was regelt das Rangprinzip?", "type": "mc", "choices": [ "Priorität der Rechte nach Eintragungszeitpunkt", "Größe des Grundstücks", "Baurechte", "Steuern" ], "correct": [ 0 ] },
      { "id": 38, "tag": "PR", "q": "Welche Rechte sichert der Eigentumsvorbehalt?", "type": "mc", "choices": [ "Eigentum bis zur Zahlung", "Nutzungsrechte", "Dienstbarkeiten", "Hypotheken" ], "correct": [ 0 ] },
      { "id": 39, "tag": "PR", "q": "Was ist Ersitzung (Grundsatz)?", "type": "mc", "choices": [ "Erwerb durch längeren Besitz nach gesetzlicher Frist", "Schenkung", "Hypothek", "Vormerkung" ], "correct": [ 0 ] },
      { "id": 40, "tag": "PR", "q": "Welche Beweislastregel gilt bei Mängeln in den ersten 6 Monaten?", "type": "mc", "choices": [ "Mangel wird zu Gunsten des Käufers vermutet", "Verkäufer muss nichts beweisen", "Käufer trägt immer die Beweislast", "Keine Regel" ], "correct": [ 0 ] },
      { "id": 41, "tag": "HAFT", "q": "Was ist der Unterschied zwischen vertraglicher und deliktischer Haftung?", "type": "mc", "choices": [ "Vertraglich aus Pflichtverletzung, deliktisch aus unerlaubter Handlung", "Keine Unterschiede", "Beides sind Delikte", "Nur deliktisch wichtig" ], "correct": [ 0 ] },
      { "id": 42, "tag": "HAFT", "q": "Was regelt §1313a ABGB?", "type": "mc", "choices": [ "Haftung des Schuldners für Erfüllungsgehilfen", "Haftung für Produkte", "Verbraucherschutz", "Mietrecht" ], "correct": [ 0 ] },
      { "id": 43, "tag": "HAFT", "q": "Wann greift Gefährdungshaftung?", "type": "mc", "choices": [ "Bei besonders gefährlichen Tätigkeiten (z. B. Kfz, Bauwerke)", "Nie", "Nur bei Vertrag", "Nur bei Vorsatz" ], "correct": [ 0 ] },
      { "id": 44, "tag": "PHG", "q": "Welche Frist gilt im Produkthaftungsrecht (Kenntnis/absolute)?", "type": "mc", "choices": [ "3 Jahre ab Kenntnis, max. 10 Jahre ab Inverkehrbringen", "1 Jahr", "5 Jahre", "Keine Frist" ], "correct": [ 0 ] },
      { "id": 45, "tag": "AGB", "q": "Welche Klauseln sind im Verbraucherschutz typischerweise unwirksam?", "type": "mc", "choices": [ "Haftungsausschlüsse für Personenschäden, grob benachteiligende Klauseln", "Alles ist wirksam", "Nur Preisangaben", "Nur Lieferfristen" ], "correct": [ 0 ] },
      { "id": 46, "tag": "KSG", "q": "Welche Informationspflichten bestehen bei Verbraucherverträgen?", "type": "mc", "choices": [ "Pflichten zu Produktinfo, Preis, Widerruf", "Keine Pflichten", "Nur Lieferpflicht", "Nur Rechnungspflicht" ], "correct": [ 0 ] },
      { "id": 47, "tag": "KOST", "q": "Wann muss ein Unternehmer Überschreitungen eines Kostenvoranschlags melden?", "type": "mc", "choices": [ "Unverzüglich beim Erkennen", "Nie", "Bei Rechnungslegung", "Nur bei Bauwerken" ], "correct": [ 0 ] },
      { "id": 48, "tag": "ARB", "q": "Wann liegt ein Arbeitsunfall vor?", "type": "mc", "choices": [ "Bei Unfall im Zusammenhang mit Arbeitstätigkeit, Arbeitsweg, Betriebshandlungen", "Nur bei tödlichem Ausgang", "Nur im Betrieb", "Nie" ], "correct": [ 0 ] },
      { "id": 49, "tag": "VStG", "q": "Was ist eine Verwaltungsübertretung?", "type": "mc", "choices": [ "Leichte bis mittlere Ordnungswidrigkeit des Verwaltungsrechts", "Strafbare Handlung", "Zivilrechtlicher Anspruch", "Technischer Begriff" ], "correct": [ 0 ] },
      { "id": 50, "tag": "ÖR", "q": "Was versteht man unter Parteistellung?", "type": "mc", "choices": [ "Recht einer Person, am Verfahren teilzunehmen", "Mitgliedschaft in Partei", "Öffentliche Stellung", "Beratungspflicht" ], "correct": [ 0 ] },
      { "id": 51, "tag": "EU", "q": "Was ist eine EU-Richtlinie?", "type": "mc", "choices": [ "Rechtsakt, der Mitgliedstaaten Ziel vorgibt und Umsetzung verlangt", "Unmittelbar anwendbar", "Nur Empfehlung", "Nur Leitfaden" ], "correct": [ 0 ] },
      { "id": 52, "tag": "VfGH", "q": "Welche Klageart gibt es beim VfGH?", "type": "mc", "choices": [ "Verfassungsbeschwerde, Organstreit, Normenkontrolle", "Zivilklage", "Strafklage", "Verwaltungsbeschwerde" ], "correct": [ 0 ] },
      { "id": 53, "tag": "OGH", "q": "Was ist Revision beim OGH?", "type": "mc", "choices": [ "Überprüfung rechtlicher Fragen aus Instanzurteilen", "Neubeurteilung des Sachverhalts", "Zustimmung zu Entscheidungen", "Appellationsverfahren" ], "correct": [ 0 ] },
      { "id": 54, "tag": "GB", "q": "Welche Funktion hat die Vormerkung im Grundbuch?", "type": "mc", "choices": [ "Sicherung künftiger dinglicher Rechte", "Sofortige Entscheidung", "Hypothek", "Baulast" ], "correct": [ 0 ] },
      { "id": 55, "tag": "PR", "q": "Welche Folgen hat der Annahmeverzug des Käufers?", "type": "mc", "choices": [ "Gefahr- und Kostenübergang zu Lasten des Käufers", "Käufer wird Eigentümer", "Keine Folgen", "Verkäufer haftet weiter" ], "correct": [ 0 ] },
      { "id": 56, "tag": "PR", "q": "Was bedeutet \"Wandlung\" im Gewährleistungsrecht?", "type": "mc", "choices": [ "Aufhebung des Kaufvertrags und Rückgewähr", "Nur Reparatur", "Nur Preisminderung", "Nur Schadensersatz" ], "correct": [ 0 ] },
      { "id": 57, "tag": "HAFT", "q": "Was ist Vertrauensschaden (c.i.c.)?", "type": "mc", "choices": [ "Schaden durch berechtigtes Vertrauen in das Zustandekommen eines Vertrags", "Nur Vermögensschaden", "Nur Personenschaden", "Nur Sachschaden" ], "correct": [ 0 ] },
      { "id": 58, "tag": "PHG", "q": "Welcher Selbstbehalt gilt bei Sachschäden im PHG?", "type": "mc", "choices": [ "500 €", "0 €", "100 €", "1.000 €" ], "correct": [ 0 ] },
      { "id": 59, "tag": "AGB", "q": "Welche Vorschrift schützt gegen unklare Klauseln im ABGB?", "type": "mc", "choices": [ "§ 879 ABGB", "§ 1313a ABGB", "§ 6 KSchG", "§ 1 VwVfG" ], "correct": [ 0 ] },
      { "id": 60, "tag": "KSG", "q": "Wer ist Konsument im KSchG?", "type": "mc", "choices": [ "Natürliche Person, die Rechtsgeschäft zu privaten Zwecken abschließt", "Unternehmer", "Verein", "Behörde" ], "correct": [ 0 ] },
      { "id": 61, "tag": "KOST", "q": "Was ist der Unterschied verbindlich/unverbindlich bei Kostenvoranschlag?", "type": "mc", "choices": [ "Verbindlich bindet Preis; unverbindlich ist Schätzung", "Keine Unterschiede", "Nur bei Bauanträgen", "Nur bei Verträgen" ], "correct": [ 0 ] },
      { "id": 62, "tag": "ARB", "q": "Welche Rolle hat die AUVA?", "type": "mc", "choices": [ "Unfallversicherungsträger für Arbeitsunfälle und Berufskrankheiten", "Gericht", "Behörde", "Gewerkschaft" ], "correct": [ 0 ] },
      { "id": 63, "tag": "VStG", "q": "Welche Sanktionen drohen bei Verwaltungsübertretungen?", "type": "mc", "choices": [ "Verwaltungsstrafen, Geldstrafen, Sicherheitsleistungen", "Nur Freiheitsstrafe", "Nur Zivilklage", "Keine Sanktionen" ], "correct": [ 0 ] },
      { "id": 64, "tag": "ÖR", "q": "Was ist eine BVE (Beschwerdevorentscheidung)?", "type": "mc", "choices": [ "Vorentscheidung der Behörde über Beschwerde vor Vorlage an Gericht", "Endgültige Entscheidung des Gerichts", "Bericht des Rechnungshofs", "Nur interner Akt" ], "correct": [ 0 ] },
      { "id": 65, "tag": "EU", "q": "Was ist der EuGH?", "type": "mc", "choices": [ "Gerichtshof der Europäischen Union, zuständig für Auslegung des EU-Rechts", "Parlament", "Kommission", "Rechnungshof" ], "correct": [ 0 ] },
      { "id": 66, "tag": "OGH", "q": "Welche Wirkung haben OGH-Präjudizien?", "type": "mc", "choices": [ "Richtungsweisend für die Rechtsfortbildung", "Bindend wie Gesetze", "Keine Wirkung", "Nur historisch relevant" ], "correct": [ 0 ] },
      { "id": 67, "tag": "GB", "q": "Welche Rolle hat das B- Blatt?", "type": "mc", "choices": [ "Eigentümer- und Erwerbsdaten", "Pfandrechte", "Widmungen", "Dienstbarkeiten" ], "correct": [ 0 ] },
      { "id": 68, "tag": "PR", "q": "Was ist eine Höchstbetragshypothek?", "type": "mc", "choices": [ "Hypothek zur Sicherung mehrerer Forderungen bis zu Höchstbetrag", "Hypothek mit variablen Zinsen", "Nur bei Grundbuchstrafen", "Ungebräuchlich" ], "correct": [ 0 ] },
      { "id": 69, "tag": "HAFT", "q": "Welche Komponenten gehören zu einem Schadenersatzanspruch?", "type": "mc", "choices": [ "Schaden, Kausalität, Rechtswidrigkeit, Verschulden", "Nur Schaden", "Nur Kausalität", "Nur Verschulden" ], "correct": [ 0 ] },
      { "id": 70, "tag": "PHG", "q": "Wer haftet bei Produktmängeln gegenüber Verbrauchern?", "type": "mc", "choices": [ "Hersteller und Importeur", "Nur Händler", "Nur Verkäufer", "Nur Händler und Verkäufer" ], "correct": [ 0 ] },
      { "id": 71, "tag": "AGB", "q": "Wann wird eine AGB-Klausel einbezogen?", "type": "mc", "choices": [ "Hinweis, Zumutbare Kenntnisnahme, Zustimmung des Vertragspartners", "Nur wenn handschriftlich", "Nie", "Automatisch" ], "correct": [ 0 ] },
      { "id": 72, "tag": "KSG", "q": "Welche Schutzwirkung hat das KSchG?", "type": "mc", "choices": [ "Besondere Schutzvorschriften zugunsten des Konsumenten", "Keine spezielle Wirkung", "Nur steuerliche Wirkung", "Nur arbeitsrechtlich relevant" ], "correct": [ 0 ] },
      { "id": 73, "tag": "KOST", "q": "Welche Pflicht hat der Unternehmer bei Mehrkosten?", "type": "mc", "choices": [ "Unverzügliche Mitteilung an den Auftraggeber", "Keine Pflicht", "Nur schriftliche Abrechnung", "Nur am Ende" ], "correct": [ 0 ] },
      { "id": 74, "tag": "ARB", "q": "Welche Folgen hat grobe Fahrlässigkeit des Arbeitgebers?", "type": "mc", "choices": [ "Haftung des Arbeitgebers, ev. Strafverfahren", "Keine Folgen", "Nur Verwarnung", "Nur innerbetriebliche Sanktion" ], "correct": [ 0 ] },
      { "id": 75, "tag": "VStG", "q": "Wann ist ein Verantwortlicher anzuführen?", "type": "mc", "choices": [ "Wenn die Organisation eine benannte verantwortliche Person festlegen will", "Nie", "Nur bei Strafverfahren", "Nur im Zivilrecht" ], "correct": [ 0 ] },
      { "id": 76, "tag": "ÖR", "q": "Was ist das Legalitätsprinzip?", "type": "mc", "choices": [ "Verwaltung darf nur auf gesetzlicher Grundlage handeln", "Verwaltung handelt frei", "Gerichte schreiben Gesetze", "Keine Bedeutung" ], "correct": [ 0 ] },
      { "id": 77, "tag": "EU", "q": "Welche Rechtsakte sind unmittelbar anwendbar?", "type": "mc", "choices": [ "Verordnungen", "Richtlinien", "Empfehlungen", "Leitlinien" ], "correct": [ 0 ] },
      { "id": 78, "tag": "OGH", "q": "Wann ist ein Revisionsrekurs zum OGH zulässig?", "type": "mc", "choices": [ "Wenn Rechtsfragen von grundsätzlicher Bedeutung betroffen sind", "Immer", "Nie", "Nur bei Strafsachen" ], "correct": [ 0 ] },
      { "id": 79, "tag": "GB", "q": "Welche Wirkung hat eine Vormerkung bei einem Drittankauf?", "type": "mc", "choices": [ "Sichert Rang und verhindert Nachrang", "Keine Wirkung", "Löscht Hypothek", "Erhöht Steuerlast" ], "correct": [ 0 ] },
      { "id": 80, "tag": "PR", "q": "Welche Prüfungsfrage zu Mängelrügen ist typisch?", "type": "mc", "choices": [ "Rügefrist, Fristsetzung zur Mangelbeseitigung, Rechtsfolgen", "Nur Preisvergleich", "Nur Eigentumsfragen", "Nur Grundbuchfragen" ], "correct": [ 0 ] },
      { "id": 81, "tag": "HAFT", "q": "Wann besteht Haftung ohne Verschulden?", "type": "mc", "choices": [ "Gefährdungshaftung und Produkthaftung", "Nie", "Nur bei Vertrag", "Nur bei Vorsatz" ], "correct": [ 0 ] },
      { "id": 82, "tag": "PHG", "q": "Welche Voraussetzung ist für PHG-Anspruch nicht erforderlich?", "type": "mc", "choices": [ "Verschulden des Herstellers", "Fehler des Produkts", "Schaden", "Kausalität" ], "correct": [ 0 ] },
      { "id": 83, "tag": "AGB", "q": "Welche Kontrollart prüft die Inhaltsneutralität von AGB?", "type": "mc", "choices": [ "Inhaltskontrolle (grob benachteiligend) ", "Formelle Kontrolle", "Nur Preisprüfung", "Nur Sprache" ], "correct": [ 0 ] },
      { "id": 84, "tag": "KSG", "q": "Welche Rechtsfolge hat die Nichtinformation über Widerrufsrechte?", "type": "mc", "choices": [ "Verlängerung der Widerrufsfrist", "Keine Folge", "Nur Bußgeld", "Nichtigkeit des Vertrags" ], "correct": [ 0 ] },
      { "id": 85, "tag": "KOST", "q": "Was ist ein Fixpreis?", "type": "mc", "choices": [ "Verbindlicher Endpreis unabhängig von Aufwand", "Schätzung", "Unverbindliche Angabe", "Nur intern" ], "correct": [ 0 ] },
      { "id": 86, "tag": "ARB", "q": "Wer trägt primär den Versicherungsschutz bei Arbeitsunfällen?", "type": "mc", "choices": [ "Unfallversicherungsträger (z. B. AUVA)", "Arbeitgeber direkt", "Staat", "Polizei" ], "correct": [ 0 ] },
      { "id": 87, "tag": "VStG", "q": "Welche Rolle spielen Sicherheitsleistungen?", "type": "mc", "choices": [ "Vorsorgemaßnahme in Verwaltungsverfahren", "Keine Rolle", "Nur Zivilverfahren", "Nur bei Strafprozessen" ], "correct": [ 0 ] },
      { "id": 88, "tag": "ÖR", "q": "Was ist Parteistellung im Bauverfahren?", "type": "mc", "choices": [ "Recht, Einwendungen zu erheben und Akteneinsicht zu nehmen", "Nur Informationsrechte", "Automatisch für alle Anrainer", "Keine Bedeutung" ], "correct": [ 0 ] },
      { "id": 89, "tag": "EU", "q": "Was macht die Europäische Kommission?", "type": "mc", "choices": [ "Initiativrecht für EU-Rechtsakte und Überwachung der Verträge", "Rechtsprechung", "Haushaltskontrolle", "Parlamentarische Arbeit" ], "correct": [ 0 ] },
      { "id": 90, "tag": "OGH", "q": "Welche Bedeutung hat die Judikatur für die Klausurpraxis?", "type": "mc", "choices": [ "Erkenntnisleitend und praxisrelevant für Falllösungen", "Unwichtig", "Nur historisch", "Nur theoretisch" ], "correct": [ 0 ] },
      { "id": 91, "tag": "GB", "q": "Welche Prüfungspunkte hat ein Grundbuchsantrag?", "type": "mc", "choices": [ "Vormerkung, Einverleibung, Richtigkeit der Unterlagen", "Nur Zahlung", "Nur Adresse", "Nur Unterschrift" ], "correct": [ 0 ] },
      { "id": 92, "tag": "PR", "q": "Welche Frist gilt für Regelverjährung?", "type": "mc", "choices": [ "3 Jahre", "1 Jahr", "10 Jahre", "30 Jahre" ], "correct": [ 0 ] },
      { "id": 93, "tag": "HAFT", "q": "Welche Folgen hat ein Schutzgesetzverstoß?", "type": "mc", "choices": [ "Haftung bei Eintritt des geschützten Schadens", "Keine Folgen", "Nur Bußgeld", "Nur intern" ], "correct": [ 0 ] },
      { "id": 94, "tag": "PHG", "q": "Welche Schäden sind ausgeschlossen?", "type": "mc", "choices": [ "Reine Vermögensschäden sind regelmäßig ausgeschlossen", "Personenschäden", "Sachschäden", "Immaterielle Schäden" ], "correct": [ 0 ] },
      { "id": 95, "tag": "AGB", "q": "Was muss vor Einbeziehung von AGB geschehen?", "type": "mc", "choices": [ "Hinweis und zumutbare Kenntnisnahme ermöglichen", "Nichts", "Nur Unterschrift", "Nur mündliche Vereinbarung" ], "correct": [ 0 ] },
      { "id": 96, "tag": "KSG", "q": "Welche Rolle hat der Verbraucherschutz bei Garantieversprechen?", "type": "mc", "choices": [ "Garantiehinweise dürfen Gewährleistungsrechte nicht einschränken", "Garantie ist immer gleichbedeutend mit Gewährleistung", "Garantie ist verboten", "Keine Rolle" ], "correct": [ 0 ] },
      { "id": 97, "tag": "KOST", "q": "Welche Elemente sollten in einem verbindlichen Kostenvoranschlag stehen?", "type": "mc", "choices": [ "Leistungsumfang, Preis, Laufzeit, Bedingungen für Mehrkosten", "Nur Preis", "Nur Datum", "Nur Unterschrift" ], "correct": [ 0 ] },
      { "id": 98, "tag": "ARB", "q": "Was bedeutet Haftungsprivileg des Arbeitgebers?", "type": "mc", "choices": [ "Versicherung übernimmt viele Schäden, Arbeitgeber haftet nur bei grober Fahrlässigkeit", "Arbeitgeber haftet immer", "Arbeitgeber haftet nie", "Nur bei Vertrag relevant" ], "correct": [ 0 ] },
      { "id": 99, "tag": "VStG", "q": "Welche Beweismittel sind in Verwaltungsverfahren relevant?", "type": "mc", "choices": [ "Schriftstücke, Zeugenaussagen, Gutachten", "Nur Zeugenaussagen", "Nur Gutachten", "Nur elektronische Akten" ], "correct": [ 0 ] },
      { "id": 100, "tag": "ÖR", "q": "Welche Pflichten hat die Behörde bei Amtsermittlung?", "type": "mc", "choices": [ "Materielle Wahrheitspflicht, vollständige Sachverhaltsfeststellung", "Keine Pflichten", "Nur formelle Prüfung", "Nur Fristen beachten" ], "correct": [ 0 ] },
      { "id": 101, "tag": "EU", "q": "Wann ist Vorabentscheidung an EuGH zu richten?", "type": "mc", "choices": [ "Wenn Rechtsauslegung des Unionsrechts zur Entscheidung nötig ist", "Immer", "Nie", "Nur bei Verfassungsfragen" ], "correct": [ 0 ] },
      { "id": 102, "tag": "OGH", "q": "Was prüft der OGH in Zivilsachen primär?", "type": "mc", "choices": [ "Rechtliche Fehler in Tatsacheninstanzen", "Neubeurteilung des Sachverhalts", "Verwaltungsrecht", "Strafrecht" ], "correct": [ 0 ] },
      { "id": 103, "tag": "GB", "q": "Welche Eintragung sichert den Rang?", "type": "mc", "choices": [ "Vormerkung", "Anmerkung", "Vermerk", "Notiz" ], "correct": [ 0 ] },
      { "id": 104, "tag": "PR", "q": "Welche Frage ist typisch in Altklausuren zur Zustellung?", "type": "mc", "choices": [ "Unterschied RSa vs RSb und Rechtsfolgen", "Wann endet das Studium?", "Hypothekenberechnung", "EU-Verordnungstext" ], "correct": [ 0 ] },
      { "id": 105, "tag": "HAFT", "q": "Was ist Erfüllungsinteresse?", "type": "mc", "choices": [ "Stellung des Gläubigers wie bei ordnungsgemäßer Vertragserfüllung", "Nur Schadenersatz", "Nur Rücktritt", "Nur AGB-Angelegenheit" ], "correct": [ 0 ] },
      { "id": 106, "tag": "PHG", "q": "Welche Rolle hat der Importeur?", "type": "mc", "choices": [ "Kann wie Hersteller haften, wenn er Produkt in Verkehr bringt", "Keine Rolle", "Nur Händler", "Nur Verkäufer" ], "correct": [ 0 ] },
      { "id": 107, "tag": "AGB", "q": "Was ist Überraschungsklausel?", "type": "mc", "choices": [ "Klausel, die Vertragspartner nicht erwarten und deshalb nicht einbezogen wird", "Klausel mit hoher Schriftgröße", "Klausel mit Preisangabe", "Klausel im Anhang" ], "correct": [ 0 ] },
      { "id": 108, "tag": "KSG", "q": "Welche Konsequenz hat missbräuchliche AGB-Klausel?", "type": "mc", "choices": [ "Nichtigkeit der Klausel", "Nichtigkeit des gesamten Vertrags", "Strafrechtliche Verfolgung", "Keine Konsequenz" ], "correct": [ 0 ] },
      { "id": 109, "tag": "KOST", "q": "Was ist der Unterschied zwischen Kostenvoranschlag und Angebot?", "type": "mc", "choices": [ "Angebot ist oft bindend; Voranschlag kann unverbindlich sein", "Kein Unterschied", "Voranschlag ist bindend", "Nur Begriffliche Abweichung" ], "correct": [ 0 ] },
      { "id": 110, "tag": "ARB", "q": "Welche Unterlagen sind bei Arbeitsunfall wichtig?", "type": "mc", "choices": [ "Unfallmeldung, Dienstzeugnisse, ärztliche Befunde", "Nur Polizeibericht", "Nur Zeugenaussage", "Nur Kostenaufstellung" ], "correct": [ 0 ] },
      { "id": 111, "tag": "VStG", "q": "Welche Voraussetzungen braucht es für eine Verantwortlichkeit der Organisation?", "type": "mc", "choices": [ "Benennung einer verantwortlichen Person und Organisationspflichten", "Nur Größe des Unternehmens", "Nur Gewinnorientierung", "Keine Voraussetzung" ], "correct": [ 0 ] },
      { "id": 112, "tag": "ÖR", "q": "Welche Prüfungsfrage könnte zum Flächenwidmungsplan gestellt werden?", "type": "mc", "choices": [ "Beurteilung von Widmungsänderungen und Auswirkung auf Bauverfahren", "Hypothekenfrage", "Vertragsrecht", "Steuerrecht" ], "correct": [ 0 ] },
      { "id": 113, "tag": "EU", "q": "Welche Wirkung haben EU-Entscheidungen?", "type": "mc", "choices": [ "Verbindlich für Adressaten, meist Mitgliedstaaten", "Nur Empfehlung", "Nur intern", "Keine Wirkung" ], "correct": [ 0 ] },
      { "id": 114, "tag": "OGH", "q": "Welche Bedeutung hat die Revisionsrechtsprechung für Studenten?", "type": "mc", "choices": [ "Leitlinien für Fallbearbeitung und Rechtsauffassungen", "Keine Bedeutung", "Nur für Richter relevant", "Nur historisch" ], "correct": [ 0 ] },
      { "id": 115, "tag": "GB", "q": "Welche Prüfung ist bei Grundbuchänderung erforderlich?", "type": "mc", "choices": [ "Formelle Voraussetzungen, Einreichunterlagen, Zustimmung ggf.", "Nur Zahlung", "Nur Unterschrift", "Nur mündliche Zustimmung" ], "correct": [ 0 ] },
      { "id": 116, "tag": "PR", "q": "Welche Fallstruktur ist bei Gewährleistungsfällen üblich?", "type": "mc", "choices": [ "Mangel — Rüge — Fristsetzung — Rechtsfolgen", "Nur Klage", "Nur Rücktritt", "Nur Schadensersatz" ], "correct": [ 0 ] },
      { "id": 117, "tag": "HAFT", "q": "Welche Rolle spielt Adäquanz bei Kausalität?", "type": "mc", "choices": [ "Nur adäquate, typische Folgen sind ersatzfähig", "Jede Folge ist ersatzfähig", "Adäquanz irrelevant", "Nur bei Vertrag gültig" ], "correct": [ 0 ] },
      { "id": 118, "tag": "PHG", "q": "Welche Kenntnisse sind für PHG-Anspruch relevant?", "type": "mc", "choices": [ "Kenntnis des Schadenszeitpunkts und des Mangels", "Keine Kenntnisse nötig", "Nur Verkäuferkenntnis", "Nur Herstellerkenntnis" ], "correct": [ 0 ] },
      { "id": 119, "tag": "AGB", "q": "Welche Prüfung ist bei AGB-Inhaltskontrolle vorgesehen?", "type": "mc", "choices": [ "Ob Klausel gröblich benachteiligend ist", "Ob Klausel lang ist", "Ob Klausel handschriftlich ist", "Ob Klausel teuer ist" ], "correct": [ 0 ] },
      { "id": 120, "tag": "KSG", "q": "Welche Rechte hat Konsument bei Vertragsverletzung?", "type": "mc", "choices": [ "Widerruf, Schadenersatz, Preisminderung, Rücktritt je nach Fall", "Keine Rechte", "Nur Bußgeld", "Nur Vertragsstrafe" ], "correct": [ 0 ] },
      { "id": 121, "tag": "GB", "q": "Welche Wirkung hat eine Einverleibung im Grundbuch auf Dritte?", "type": "mc", "choices": [ "Dritte sind an die Eintragung gebunden und Rang ist gesichert", "Keine Wirkung", "Nur informativ", "Nur intern" ], "correct": [ 0 ] },
      { "id": 122, "tag": "BO", "q": "Welche Frist gilt für die Baubewilligungskommunikation (Beispiel)?", "type": "mc", "choices": [ "Variiert, oft Fristen nach Landesrecht (prüfungsrelevant: Fristeinhaltung)", "Immer 1 Woche", "Immer 6 Monate", "Keine Frist" ], "correct": [ 0 ] },
      { "id": 123, "tag": "PR", "q": "Welche Rolle spielt die Aufklärungspflicht vor Vertragsschluss?", "type": "mc", "choices": [ "Vertrauensbildung; Verletzung kann c.i.c.-Ansprüche begründen", "Keine Rolle", "Nur intern relevant", "Nur bei staatlichen Verträgen relevant" ], "correct": [ 0 ] },
      { "id": 124, "tag": "HAFT", "q": "Wie ist Mitverschulden prozentual zu berücksichtigen?", "type": "mc", "choices": [ "Kürzung des Ersatzanspruchs nach Quoten", "Vollständiger Wegfall", "Verdoppelung des Anspruchs", "Keine Berücksichtigung" ], "correct": [ 0 ] },
      { "id": 125, "tag": "PHG", "q": "Ist eine Produkthaftung verjährbar?", "type": "mc", "choices": [ "Ja — 3 Jahre ab Kenntnis, maximal 10 Jahre ab Inverkehrbringen", "Nein", "Nur 1 Jahr", "Nur 5 Jahre" ], "correct": [ 0 ] },
      { "id": 126, "tag": "AGB", "q": "Welche Schritte sind bei AGB-Einbeziehung zu dokumentieren?", "type": "mc", "choices": [ "Hinweis, Zugänglichmachung, Einverständnis", "Nur Hinweis", "Nur Übergabe", "Nichts" ], "correct": [ 0 ] },
      { "id": 127, "tag": "KSG", "q": "Welche Sanktionen bestehen bei Verstößen gegen Verbraucherschutzpflichten?", "type": "mc", "choices": [ "Geldstrafen, Unterlassungsansprüche, Schadenersatz", "Nur Verwarnung", "Nur Rücktritt", "Keine Sanktionen" ], "correct": [ 0 ] },
      { "id": 128, "tag": "KOST", "q": "Kann ein Kostenvoranschlag in einem Werkvertrag Bestandteil der Vergütung sein?", "type": "mc", "choices": [ "Ja, wenn ausdrücklich vereinbart (Fixpreis vs. Schätzung)", "Nein", "Nur bei Miete", "Nur bei Dienstvertrag" ], "correct": [ 0 ] },
      { "id": 129, "tag": "ARB", "q": "Welche Prüfungspunkte sind bei Arbeitsunfall-Fällen in Klausuren relevant?", "type": "mc", "choices": [ "Zuständigkeiten, Verschulden, Versicherungsdeckung, Schadensfolgen", "Nur Kosten", "Nur medizinische Aspekte", "Nur Verjährung" ], "correct": [ 0 ] },
      { "id": 130, "tag": "ÖR", "q": "Welche Prüfungsfrage zu Zustellung und Rechtsfolgen taucht häufig auf?", "type": "mc", "choices": [ "Unterschied RSa/RSb und rechtliche Wirkungen", "Wann ist ein Gesetz in Kraft?", "Wie wird ein Vertrag abgeschlossen?", "Welche Gebühren fallen an?" ], "correct": [ 0 ] }
    ];

    const TAG_TOPICS = {
      "ÖR": "Öffentliches Recht / Verfassungs- & Verwaltungsrecht",
      "EU": "Europarecht / EU-Institutionen",
      "GB": "Grundbuch / Sachenrecht",
      "PR": "Privatrecht / Verträge / Sachenrecht",
      "HAFT": "Haftungsrecht / Schadenersatz",
      "PHG": "Produkthaftungsgesetz",
      "AGB": "AGB / Konsumentenschutz",
      "KSG": "Konsumentenschutzgesetz / Verbraucherverträge",
      "KOST": "Kostenvoranschlag / Werkvertrag / Preis",
      "ARB": "Arbeitsrecht / Arbeitsunfall",
      "VStG": "Verwaltungsstrafrecht (VStG)",
      "VfGH": "Verfassungsgerichtshof (VfGH)",
      "VwGH": "Verwaltungsgerichtshof (VwGH)",
      "OGH": "Oberster Gerichtshof (OGH)",
      "BO": "Bauordnung / Baurecht"
    };

    const TAG_HINTS = {
      "ÖR": "Themengebiet: Öffentliches Recht (Verfassungs- und Verwaltungsrecht).",
      "EU": "Themengebiet: Europarecht und EU-Institutionen.",
      "GB": "Themengebiet: Grundbuch und Liegenschaftsrecht.",
      "PR": "Themengebiet: Allgemeines Privatrecht (ABGB, Vertrags- und Sachenrecht).",
      "HAFT": "Themengebiet: Haftungsrecht und Schadenersatz.",
      "PHG": "Themengebiet: Produkthaftungsgesetz.",
      "AGB": "Themengebiet: Allgemeine Geschäftsbedingungen und AGB-Kontrolle.",
      "KSG": "Themengebiet: Konsumentenschutzgesetz / Verbraucherschutz.",
      "KOST": "Themengebiet: Kostenvoranschlag, Werkvertrag, Preisvereinbarung.",
      "ARB": "Themengebiet: Arbeitsrecht / Arbeitsunfall / Versicherung.",
      "VStG": "Themengebiet: Verwaltungsstrafrecht (VStG).",
      "VfGH": "Themengebiet: Verfassungsgerichtshof / Normenkontrolle.",
      "VwGH": "Themengebiet: Verwaltungsgerichtshof / verwaltungsgerichtliche Entscheidungen.",
      "OGH": "Themengebiet: OGH / Höchstgericht in Zivil- und Strafsachen.",
      "BO": "Themengebiet: Bauordnung und baurechtliche Verfahren."
    };

    const EXTRA_QUESTIONS = COLLEAGUE_QUESTIONS_RAW.map((item) => {
      const topic = TAG_TOPICS[item.tag] || "Recht allgemein";
      const baseExplanation =
        item.a ||
        "Richtig ist/sind die angegebene(n) Antwort(en), weil sie der gesetzlichen Definition bzw. der Zuständigkeit in diesem Themenbereich entsprechen.";
      const tagHint = TAG_HINTS[item.tag] ? " " + TAG_HINTS[item.tag] : "";
      return {
        id: "N" + item.id,
        topic,
        text: item.q,
        options: item.choices,
        correctIndices: item.correct,
        explanation: baseExplanation + tagHint
      };
    });

    const ALL_QUESTIONS = BASE_QUESTIONS.concat(EXTRA_QUESTIONS);

    // ============================
    // Quiz-Logik
    // ============================

    let currentQuestions = [];
    let questionOrder = [];      // Mapping Reihenfolge -> Index in currentQuestions
    let optionOrder = [];        // Pro Frage: Permutation der Antwort-Indizes
    let currentOrderIndex = 0;   // Position in questionOrder
    let userAnswers = [];        // pro Frageindex: Array gewählter Original-Indizes
    let questionChecked = [];    // pro Frageindex: Antwort bereits geprüft?
    let quizFinished = false;
    let lastEvaluation = null;

    document.addEventListener("DOMContentLoaded", () => {
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      const checkBtn = document.getElementById("check-btn");
      const evalBtn = document.getElementById("eval-btn");
      const restartBtn = document.getElementById("restart-btn");
      const closeSolutionBtn = document.getElementById("close-solution-btn");
      const showSolutionsBtn = document.getElementById("show-solutions-btn");

      prevBtn.addEventListener("click", showPrevQuestion);
      nextBtn.addEventListener("click", showNextQuestion);
      checkBtn.addEventListener("click", checkCurrentQuestion);
      evalBtn.addEventListener("click", () => {
        openResultOverlay();
      });
      restartBtn.addEventListener("click", () => {
        startQuiz();
      });
      closeSolutionBtn.addEventListener("click", () => {
        document.getElementById("solution-overlay").classList.add("hidden");
        // Lösungen beim nächsten Öffnen wieder ausblenden
        document.getElementById("solution-list").classList.add("hidden");
        document.getElementById("solution-title").textContent = "Gesamtergebnis";
      });
      showSolutionsBtn.addEventListener("click", () => {
        const listEl = document.getElementById("solution-list");
        if (listEl.classList.contains("hidden")) {
          buildSolutionList();
          listEl.classList.remove("hidden");
          document.getElementById("solution-title").textContent = "Lösungsschlüssel & Auswertung";
        }
      });

      // Tastatursteuerung
      document.addEventListener("keydown", (e) => {
        if (!currentQuestions.length) return;
        if (e.key === "ArrowRight") {
          showNextQuestion();
        } else if (e.key === "ArrowLeft") {
          showPrevQuestion();
        } else if (e.key === "Enter") {
          e.preventDefault();
          checkCurrentQuestion();
        }
      });

      // Quiz direkt starten
      startQuiz();
    });

    function startQuiz() {
      currentQuestions = ALL_QUESTIONS.slice();
      questionOrder = currentQuestions.map((_, idx) => idx);
      shuffle(questionOrder);

      optionOrder = currentQuestions.map((q) => {
        const arr = q.options.map((_, idx) => idx);
        shuffle(arr);
        return arr;
      });

      currentOrderIndex = 0;
      userAnswers = currentQuestions.map(() => []);
      questionChecked = currentQuestions.map(() => false);
      quizFinished = false;
      lastEvaluation = null;

      renderCurrentQuestion();
      updateQuestionNav();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function renderCurrentQuestion() {
      if (!currentQuestions.length) return;
      const questionContainer = document.getElementById("question-container");
      const total = currentQuestions.length;
      const qIndex = questionOrder[currentOrderIndex];
      const q = currentQuestions[qIndex];
      const order = optionOrder[qIndex];

      const optionHtml = order
        .map((origIdx, dispIdx) => {
          const optText = q.options[origIdx];
          const selected =
            (userAnswers[qIndex] || []).includes(origIdx) ? "checked" : "";
          const letter = String.fromCharCode(97 + dispIdx); // a, b, c, ...
          return `
            <label class="option">
              <input type="checkbox" data-orig-index="${origIdx}" ${selected}>
              <span class="option-letter">${letter})</span>
              <span class="option-text">${optText}</span>
            </label>
          `;
        })
        .join("");

      const contextHtml = q.contextHtml
        ? `<div class="question-context">${q.contextHtml}</div>`
        : "";

      const explanationHtml = `
        <div class="explanation hidden" id="explanation">
          <strong>Lösung & Begründung:</strong><br>
          ${q.explanation}
        </div>
      `;

      questionContainer.innerHTML = `
        <div class="question-card" id="question-card">
          <div class="question-header">
            <div class="question-number">Frage ${currentOrderIndex + 1} von ${total}</div>
            <div class="question-topic">${q.topic || ""}</div>
          </div>
          <div class="question-text">${q.text}</div>
          ${contextHtml}
          <div class="question-note">
            Mehrfachauswahl möglich – mindestens eine Antwort ist richtig, aber nie alle. Falsche Kreuze ziehen Punkte ab.
          </div>
          <div class="options">
            ${optionHtml}
          </div>
          ${explanationHtml}
          <div class="message" id="message"></div>
        </div>
      `;

      // Auswahl-Änderungen sofort speichern, damit Navigation oben weiß „beantwortet“
      attachOptionChangeHandler(qIndex);

      // Falls die Frage bereits geprüft wurde, Darstellung wiederherstellen
      if (questionChecked[qIndex]) {
        const card = document.getElementById("question-card");
        const selected = userAnswers[qIndex] || [];
        applyEvaluationStyles(card, q, selected, qIndex);
        const explEl = document.getElementById("explanation");
        if (explEl) explEl.classList.remove("hidden");

        const msgEl = document.getElementById("message");
        if (msgEl) {
          const qScore = computeQuestionScorePercent(q, selected);
          const rounded = Math.round(qScore);
          msgEl.textContent = buildQuestionMessage(rounded);
        }
      }

      updateQuestionNav();
    }

    function attachOptionChangeHandler(qIndex) {
      const card = document.getElementById("question-card");
      if (!card) return;
      const optionsContainer = card.querySelector(".options");
      if (!optionsContainer) return;

      optionsContainer.addEventListener("change", () => {
        const checkboxes = optionsContainer.querySelectorAll('input[type="checkbox"]');
        const selectedOriginalIndices = [];
        checkboxes.forEach((cb) => {
          if (cb.checked) {
            const orig = parseInt(cb.getAttribute("data-orig-index"), 10);
            selectedOriginalIndices.push(orig);
          }
        });
        userAnswers[qIndex] = selectedOriginalIndices;
        updateQuestionNav();
      });
    }

    function showPrevQuestion() {
      if (!currentQuestions.length) return;
      if (currentOrderIndex > 0) {
        currentOrderIndex -= 1;
        renderCurrentQuestion();
      }
    }

    function showNextQuestion() {
      if (!currentQuestions.length) return;
      if (currentOrderIndex < questionOrder.length - 1) {
        currentOrderIndex += 1;
        renderCurrentQuestion();
      }
    }

    function checkCurrentQuestion() {
      if (!currentQuestions.length) return;
      const qIndex = questionOrder[currentOrderIndex];
      const q = currentQuestions[qIndex];
      const card = document.getElementById("question-card");
      if (!card) return;

      const checkboxes = card.querySelectorAll('input[type="checkbox"]');
      const selectedOriginalIndices = [];
      checkboxes.forEach((cb) => {
        if (cb.checked) {
          const orig = parseInt(cb.getAttribute("data-orig-index"), 10);
          selectedOriginalIndices.push(orig);
        }
      });

      const messageEl = document.getElementById("message");
      if (!selectedOriginalIndices.length) {
        if (messageEl) {
          messageEl.textContent =
            "Bitte wähle mindestens eine Antwort aus, bevor du prüfst.";
        }
        return;
      } else if (messageEl) {
        messageEl.textContent = "";
      }

      userAnswers[qIndex] = selectedOriginalIndices;
      questionChecked[qIndex] = true;

      applyEvaluationStyles(card, q, selectedOriginalIndices, qIndex);

      const qScore = computeQuestionScorePercent(q, selectedOriginalIndices);
      const rounded = Math.round(qScore);
      if (messageEl) {
        messageEl.textContent = buildQuestionMessage(rounded);
      }

      const explEl = document.getElementById("explanation");
      if (explEl) explEl.classList.remove("hidden");

      updateQuestionNav();
    }

    function buildQuestionMessage(percent) {
      if (percent === 100) return "Frage-Punkte: 100 % – voll korrekt.";
      if (percent >= 60)
        return `Frage-Punkte: ${percent} % – positiv, aber nicht alles richtig.`;
      if (percent > 0)
        return `Frage-Punkte: ${percent} % – teilweise richtig, aber noch negativ (< 60 %).`;
      return "Frage-Punkte: 0 % – keine Punkte, sieh dir die Begründung an.";
    }

    function applyEvaluationStyles(card, question, selectedOriginalIndices, qIndex) {
      const optionsEls = card.querySelectorAll(".option");
      const selectedSet = new Set(selectedOriginalIndices);
      const correctSet = new Set(question.correctIndices);
      const order = optionOrder[qIndex];

      optionsEls.forEach((optEl, dispIdx) => {
        optEl.classList.remove("correct", "incorrect", "unselected-correct");
        const origIdx = order[dispIdx];
        const isSelected = selectedSet.has(origIdx);
        const isCorrect = correctSet.has(origIdx);

        if (isCorrect && isSelected) {
          optEl.classList.add("correct");
        } else if (!isCorrect && isSelected) {
          optEl.classList.add("incorrect");
        } else if (isCorrect && !isSelected) {
          optEl.classList.add("unselected-correct");
        }
      });
    }

    function computeQuestionScorePercent(question, selectedOriginalIndices) {
      if (!selectedOriginalIndices || !selectedOriginalIndices.length) {
        return 0;
      }
      const totalOptions = question.options.length;
      const correctSet = new Set(question.correctIndices);
      const totalCorrect = correctSet.size;
      if (totalCorrect === 0) return 0;

      const allIdx = [];
      for (let i = 0; i < totalOptions; i++) allIdx.push(i);
      const incorrectIndices = allIdx.filter((i) => !correctSet.has(i));
      const totalIncorrect = incorrectIndices.length;

      const selSet = new Set(selectedOriginalIndices);
      let correctSelected = 0;
      let incorrectSelected = 0;

      selSet.forEach((idx) => {
        if (correctSet.has(idx)) {
          correctSelected++;
        } else if (incorrectIndices.includes(idx)) {
          incorrectSelected++;
        }
      });

      const pos = correctSelected / totalCorrect;
      let neg = 0;
      if (totalIncorrect > 0) {
        neg = incorrectSelected / totalIncorrect;
      }

      let score = (pos - neg) * 100;
      if (score < 0) score = 0;
      if (score > 100) score = 100;
      return score;
    }

    function updateQuestionNav() {
      const nav = document.getElementById("question-nav");
      if (!nav) return;
      const total = currentQuestions.length;
      if (!total) {
        nav.innerHTML = "";
        return;
      }

      let html = "";
      questionOrder.forEach((qIdx, orderIndex) => {
        const answered = (userAnswers[qIdx] && userAnswers[qIdx].length > 0);
        const checked = questionChecked[qIdx];
        const classes = ["q-nav-item"];
        if (orderIndex === currentOrderIndex) classes.push("active");
        if (answered) classes.push("answered");
        if (checked) classes.push("checked");
        html += `<button type="button" class="${classes.join(" ")}" data-order-index="${orderIndex}">${orderIndex + 1}</button>`;
      });

      nav.innerHTML = html;

      nav.querySelectorAll(".q-nav-item").forEach((btn) => {
        btn.addEventListener("click", () => {
          const idx = parseInt(btn.getAttribute("data-order-index"), 10);
          if (!isNaN(idx)) {
            currentOrderIndex = idx;
            renderCurrentQuestion();
          }
        });
      });
    }

    function evaluateQuiz() {
      if (!currentQuestions.length) {
        lastEvaluation = {
          perQuestionScores: [],
          overallPercent: 0,
          roundedOverall: 0,
          gradeText: getGradeText(0)
        };
        return lastEvaluation;
      }

      const total = currentQuestions.length;
      let sumScore = 0;
      const perQuestionScores = [];

      currentQuestions.forEach((q, idx) => {
        const score = computeQuestionScorePercent(q, userAnswers[idx] || []);
        sumScore += score;
        perQuestionScores[idx] = score;
      });

      const overallPercent = total ? sumScore / total : 0;
      const roundedOverall = Math.round(overallPercent);
      const gradeText = getGradeText(roundedOverall);

      lastEvaluation = {
        perQuestionScores,
        overallPercent,
        roundedOverall,
        gradeText
      };
      quizFinished = true;

      return lastEvaluation;
    }

    function getGradeText(percent) {
      if (percent >= 90) return "Note 1 – Sehr gut (positiv)";
      if (percent >= 80) return "Note 2 – Gut (positiv)";
      if (percent >= 70) return "Note 3 – Befriedigend (positiv)";
      if (percent >= 60) return "Note 4 – Genügend (positiv)";
      return "Note 5 – Nicht genügend (negativ)";
    }

    function openResultOverlay() {
      const evalRes = evaluateQuiz();
      const summaryEl = document.getElementById("solution-summary");
      const total = currentQuestions.length;

      summaryEl.innerHTML = `
        Du hast insgesamt <b>${evalRes.roundedOverall} %</b> erreicht – ${evalRes.gradeText}.<br>
        Auswertung über <b>${total}</b> Fragen. Mindestens 60&nbsp;% sind für eine positive Beurteilung erforderlich.
      `;

      document.getElementById("solution-title").textContent = "Gesamtergebnis";
      document.getElementById("solution-list").classList.add("hidden");
      document.getElementById("solution-overlay").classList.remove("hidden");
    }

    function buildSolutionList() {
      if (!lastEvaluation) {
        evaluateQuiz();
      }
      const perQuestionScores = lastEvaluation.perQuestionScores || [];
      const listEl = document.getElementById("solution-list");
      listEl.innerHTML = "";

      questionOrder.forEach((qOrderIdx, idxInOrder) => {
        const q = currentQuestions[qOrderIdx];
        const score = perQuestionScores[qOrderIdx] || 0;
        const rounded = Math.round(score);
        const positive = rounded >= 60;
        const orderArr = optionOrder[qOrderIdx];
        const correctSet = new Set(q.correctIndices);
        const selectedSet = new Set(userAnswers[qOrderIdx] || []);

        let optionsHtml = "";
        orderArr.forEach((origIdx, dispIdx) => {
          const text = q.options[origIdx];
          const isCorrect = correctSet.has(origIdx);
          const wasSelected = selectedSet.has(origIdx);

          let mark = "";
          let cssClass = "opt-neutral";

          if (isCorrect && wasSelected) {
            mark = "✓";
            cssClass = "opt-correct";
          } else if (isCorrect && !wasSelected) {
            mark = "✓";
            cssClass = "opt-neutral";
          } else if (!isCorrect && wasSelected) {
            mark = "✗";
            cssClass = "opt-wrong-selected";
          } else {
            mark = "•";
            cssClass = "opt-neutral";
          }

          const letter = String.fromCharCode(97 + dispIdx);
          optionsHtml += `
            <div class="solution-opt ${cssClass}">
              <div class="solution-opt-mark">${mark}</div>
              <div><b>${letter})</b> ${text}</div>
            </div>
          `;
        });

        const scoreClass = positive ? "positive" : "negative";

        const blockHtml = `
          <div class="solution-question">
            <div class="solution-q-header">
              <div class="solution-q-title">Frage ${idxInOrder + 1} – ${q.id}</div>
              <div class="solution-q-topic">${q.topic || ""}</div>
            </div>
            <div>${q.text}</div>
            <div class="solution-q-score ${scoreClass}">
              Punkte für diese Frage: ${rounded} %
            </div>
            <div class="solution-options">
              ${optionsHtml}
            </div>
            <div class="solution-expl">${q.explanation}</div>
          </div>
        `;
        listEl.insertAdjacentHTML("beforeend", blockHtml);
      });
    }
  </script>
</body>
</html>
